var CS_CONF={"projectId":613,"status":1,"hostnames":["rolex.com"],"allowSubdomains":1,"visitorCookieTimeout":34164000000,"storeInputData":0,"excludedBlocks":[],"excludedPages":[],"includedPages":[],"sampleRate":100,"recordingRate":1,"validationRate":10,"jquery":false,"lastTrackingDraw":null,"trackerDomain":"t.content-square.net","ed":"e.content-square.net/log"};!function(){"use strict";function getPageViewAlreadyTracked(){return pageViewAlreadyTracked}function setPageViewAlreadyTracked(a){pageViewAlreadyTracked=a}function initPageViewTimeStamp(){pageViewTimeStamp=(new Date).getTime()}function getPageViewTimeStamp(){return pageViewTimeStamp}function getPageNumber(){return parseInt(UXUtils.getCookie(COOKIES.SESSION))}function initNbRenewSessionTries(){nbRenewSessionTries=0}function renewSessionIfNeeded(){if(nbRenewSessionTries>=MAX_NB_RENEW_SESSION_TRIES)throw Error("Impossible to renew session, [VISITOR] "+window.JSON.stringify(UXUtils.getCookie(COOKIES.VISITOR)));null===UXUtils.getCookie(COOKIES.SESSION)&&(nbRenewSessionTries++,window._uxa.push(["trackPageview"]))}function getVisitor(){var a=UXUtils.getCookie(COOKIES.VISITOR),b=a?a.split("."):[];return{id:b[0],creationTimestamp:parseInt(b[1]),visitsCount:parseInt(b[2]),hitTimestamp:parseInt(b[3]),lastVisitTimestamp:parseInt(b[4]),lastTrackingDraw:parseInt(b[5]),expires:parseInt(b[6])}}function setVisitor(a){var b=a.id+"."+a.creationTimestamp+"."+a.visitsCount+"."+a.hitTimestamp+"."+a.lastVisitTimestamp+"."+a.lastTrackingDraw+"."+a.expires;UXUtils.setCookie(COOKIES.VISITOR,b,options.domain,new Date(a.expires))}function getVisitorWithDefaults(){var a=Date.now(),b=Math.floor(a/1e3),c=getVisitor();return{id:c.id||getVisitorId(),creationTimestamp:c.creationTimestamp||b,visitsCount:c.visitsCount||0,hitTimestamp:c.hitTimestamp||b,lastVisitTimestamp:c.lastVisitTimestamp||0,lastTrackingDraw:c.lastTrackingDraw||1,expires:c.expires||a+options.visitorCookieTimeout}}function getVisitorId(){return visitorId||(visitorId=generateGuid()),visitorId}function generateGuid(){var a=navigator.userAgent+navigator.language+navigator.platform,b=sdbmCode(a).toString(16).slice(-4),c=(new Date).getTime();return"xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=(c+16*Math.random())%16|0;return c=Math.floor(c/16),("x"===a?b:7&b|8).toString(16)}).replace("hhhh",b)}function sdbmCode(a){for(var b=0,c=0;c<a.length;c++)b=a.charCodeAt(c)+(b<<6)+(b<<16)-b;return Math.abs(b)}function updateVisitorAndSessionCookies(){var a=getVisitorWithDefaults(),b=Math.floor(Date.now()/1e3),c=1,d=UXUtils.getCookie(COOKIES.SESSION);a.hitTimestamp=b,a.lastTrackingDraw=options.lastTrackingDraw||1,d?(c=getPageNumber(),c++):(a.visitsCount++,a.lastVisitTimestamp=b),deleteOtherDomainsCookies(),setVisitor(a),UXUtils.setCookie(COOKIES.SESSION,c,options.domain,options.sessionCookieTimeout)}function deleteOtherDomainsCookies(){UXUtils.getCookie(COOKIES.VISITOR)&&(1===options.allowSubdomains?(UXUtils.deleteCookie(COOKIES.VISITOR,void 0),UXUtils.deleteCookie(COOKIES.SESSION,void 0)):(UXUtils.deleteCookie(COOKIES.VISITOR,UXUtils.getRootDomain()),UXUtils.deleteCookie(COOKIES.SESSION,UXUtils.getRootDomain())))}function initReportedErrors(){reportedErrors=0}function reportError(a){isValidationActive()&&reportedErrors<NB_MAX_ERRORS&&(a+="\n"+getUserInfo(),UXUtils.reportError(APP_NAME,WARNING_LEVEL,window.CS_CONF.ed,a,TRACKING_TAG_VERSION),reportedErrors++)}function tryToExecute(a,b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];try{return b.apply(void 0,c)}catch(b){try{isValidationActive()&&reportedErrors<NB_MAX_ERRORS&&(UXUtils.reportException(APP_NAME,window.CS_CONF.ed,a,b,getUserInfo(),TRACKING_TAG_VERSION),reportedErrors++)}catch(a){}}}}function isValidationActive(){return"1"==UXUtils.getCookie(COOKIES.VALIDATION)}function getUserInfo(){var a=getVisitor(),b={userId:a.id,sessionNumber:a.visitsCount,pageNumber:UXUtils.getCookie(COOKIES.SESSION)};return window.JSON.stringify(b)}function identity(a){return a}function isBoolean(a){return 0===a||1===a}function isNumber(a){return"number"==typeof a&&!isNaN(a)}function isInt(a){return a===parseInt(a)}function isPositiveInt(a){return isInt(a)&&a>=0}function isStrictlyPositiveInt(a){return isInt(a)&&a>=1}function isString(a){return"string"==typeof a||a instanceof String}function isNotEmptyString(a){return String(a).length>0&&isString(a)}function isValidInt(a,b,c){return isInt(a)&&a>=b&&a<=c}function isValidTimestamp(a){return isValidInt(a,0,9999999999)}function isValidUrl(a){return"string"==typeof a}function isArray(a){return a instanceof Array}function isObject(a){return"object"==typeof a}function isDefined(a){return void 0!==a}function isDefinedAndNotNull(a){return isDefined(a)&&null!==a}function isEmptyObject(a){var b;for(b in a)return!1;return!0}function isValidCustomVar(a){if(!a)return!0;for(var b in a){var c=parseInt(b),d=a[b],e=d[0],f=d[1];if(!isValidInt(c,1,20)||e.length>CUSTOM_VAR_KEY_MAX_LENGTH||f.length>CUSTOM_VAR_VALUE_MAX_LENGTH)return!1}return!0}function getValidCustomVars(a){for(var b in a){var c=parseInt(b),d=a[b],e=d[0],f=d[1];(!isValidInt(c,1,20)||e.length>CUSTOM_VAR_KEY_MAX_LENGTH||f.length>CUSTOM_VAR_VALUE_MAX_LENGTH)&&delete a[b]}var g=isEmptyObject(a)?[]:a;return encodeURIComponent(window.JSON.stringify(g))}function isValidItems(a){for(var b=0;b<a.length;b++){var c=a[b];if(!isString(c.id)||!isString(c.name)||!isNumber(parseFloat(c.price))||!isInt(parseInt(c.quantity))||c.sku&&!isString(c.sku)||c.category&&!isString(c.category))return!1}return!0}function getValidItems(a){for(var b=a.length-1;b>=0;b--){var c=a[b];isString(c.id)&&isString(c.name)&&isNumber(parseFloat(c.price))&&isInt(parseInt(c.quantity))&&(!c.sku||isString(c.sku))&&(!c.category||isString(c.category))||a.splice(b,1)}return encodeURIComponent(window.JSON.stringify(a.length>0?a:[]))}function areTestsValid(a){for(var b=0;b<a.length;b++){var c=a[b],d=c[0],e=c[1];if(!isInt(d)||!isInt(e))return!1}return!0}function getValidTests(a){for(var b=a.length-1;b>=0;b--){var c=a[b],d=c[0],e=c[1];isInt(d)&&isInt(e)||a.splice(b,1)}return encodeURIComponent(window.JSON.stringify(a.length>0?a:[]))}function isValidEvent(a){for(var b=0;b<a.length;b++){var c=a[b],d=c[0],e=c[1],f=c[2],g=c[3];if(!isPositiveInt(e)||isInt(f)&&!isPositiveInt(f)||isInt(g)&&!isPositiveInt(g)||!isValidInt(d,0,13))return!1}return!0}function getFormattedEvent(a){return encodeURIComponent(window.UXAnalytics.LZString.compressToBase64(window.JSON.stringify(a)))}function getErrorMessage(a,b,c){return"Invalid parameter for "+a+": "+b+"="+c}function UXA(){initPageViewTimeStamp(),initNbRenewSessionTries();var CSStorage=CSStorageFactory(),CSIo=CSIoFactory(),CSEvents=CSEventsFactory(CSStorage,CSIo),CSTransaction=CSTransactionFactory(CSIo);window._uxa||(window._uxa=window._uxa||[]);var tracker=CSTrackerFactory(CSIo,CSEvents,CSTransaction);tracker.initProjectLoadHandlers(window._uxa),window._uxa={push:tryToExecute("UXA.load",tracker.apply)};var exports={};return eval("var module = null;"+stringifiedLZString+"exports.LZString = LZString;"),exports.getTracker=function(){return tracker},exports.getIo=function(){return CSIo},exports}function overrideOptions(){if(window._uxa&&window._uxa.length)for(var a=0;a<window._uxa.length;a++){var b=window._uxa[a];if("setOption"===b[0])for(var c=0;c<OVERRIDABLE_OPTIONS.length;c++)b[1]===OVERRIDABLE_OPTIONS[c]&&(window.CS_CONF[b[1]]=b[2])}}function initJQuery(){window.jQuery_cs=UXUtils.getJQueryInstance(),window.jQuery_cs&&void 0!==window.CS_CONF&&window.CS_CONF.jquery&&window.jQuery_cs.noConflict(!0)}function getInclusionTimeStamp(){try{return getVisitor().lastTrackingDraw}catch(a){}}function isBrowserSupported(){return"pageXOffset"in window&&"pageYOffset"in window&&window.JSON&&window.JSON.parse&&window.JSON.stringify&&window.addEventListener&&window.removeEventListener&&window.Node&&Array.prototype.filter&&document.querySelectorAll&&Date.now}window.CSPathComputation=window.CSPathComputation||function(){function a(a){if(a&&"jquery"in a&&1==a.length&&(a=a[0]),a===document)return"";if(!b(a))throw a+" is not a computable element";return c(a)}function b(a){return a&&"localName"in a&&"getAttribute"in a&&"hasAttribute"in a&&"parentNode"in a}function c(a){if(!a||!a.localName)return"";var b=a.localName.toLowerCase(),i=a.getAttribute("id");if(i&&d(i)&&!e(a)&&!f(i))return b+"#"+i;var j=g(a),k=h(j,a),l=c(j);return(l=l?l+">":"")+b+":eq("+k+")"}function d(a){return 1===document.querySelectorAll('[id="'+a+'"]').length}function e(a){return a.hasAttribute("data-cs-dynamic-id")}function f(a){return a.match(/\d{4}/)}function g(a){var b=a.parentNode;return b&&b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?b:null}function h(a,b){if(!a)return-1;if(a.nodeType===Node.DOCUMENT_NODE)return 0;var c=[].slice.call(a.childNodes);return c=c.filter(function(a){return a.nodeType===Node.ELEMENT_NODE&&a.localName.toLowerCase()===b.localName.toLowerCase()}),c.indexOf(b)}return{getElementPath:a}}();var UXUtils=function(){function a(){return Math.floor(1e4*Math.random())/100}function b(b){return a()>b}function c(b){return a()<b}function d(){return window.location}function e(){return navigator.userAgent}function f(a){var b=a.match(/(chrome|opera|firefox|msie|trident|AppleWebKit)\/?\s*(\d+)/i)||[];return{browser:b[1],version:b[2]}}function g(a,b,c,d,e,f){return document.cookie=h(a,b,c,d,e,f),!0}function h(a,b,c,d,e,f){if(d&&!(d instanceof Date)){if(isNaN(d))throw"Bad type given for expires";d=new Date(Date.now()+parseInt(d))}var g=a+"="+encodeURIComponent(b)+(d?";expires="+d.toUTCString():"")+";path="+(e||"/");return void 0!==c&&null!==c&&(g+=";domain="+c),g+=f?";secure":""}function i(a,b){j(a)&&g(a,"",b,-1,"/")}function j(a){var b=new RegExp("(^|;)[ ]*"+a+"=([^;]*)"),c=b.exec(document.cookie);return c?decodeURIComponent(c[2]):null}function k(a){a=a||[];for(var b=[],c=0;c<a.length;c++)b.push(j(a[c]));return b}function l(a){return a?m():void 0}function m(){for(var a=d().hostname.split("."),b=a.pop(),c="_cs_"+(new Date).getTime();a.length&&null===j(c);)b=[a.pop(),b].join("."),g(c,c,b);return i(c,b),b}function n(a){var b=this.getWindowLocation().hash.match(new RegExp(a+"=([^&]*)"));return b?b[1]:null}function o(a){return this.getWindowLocation().hash.indexOf(a)>-1}function p(a){var b=document.createElement("script");b.type="text/javascript",b.src=a,document.head.appendChild(b)}function q(){var a="";try{a=window.top.document.referrer}catch(b){if(window.parent)try{a=window.parent.document.referrer}catch(b){a=""}}return""===a&&(a=document.referrer),a}function r(a,b,c,f,g){var h=new Image(1,1),i=(new Date).getTime();h.src="https://"+c+"?a="+a+"&d="+i+"&l="+b+"&s="+encodeURIComponent(f)+"&u="+encodeURIComponent(e())+"&p="+encodeURIComponent(d())+"&v="+g,h.onload=function(){}}function s(a,b,c,d,e,f){e="function "+c+": "+t(d)+"\n"+e,r(a,w,b,e,f)}function t(a){return(a.message?a.message:a.toString())+" "+(a.stack?a.stack:a.toString())}function u(){return void 0!==window.jQuery?window.jQuery:void 0!==window.$&&void 0!==window.$.fn&&void 0!==window.$.fn.jquery?window.$:null}function v(){return Date.now}var w="ERROR";return{getRandomPercentage:a,randGtPercent:b,randLtPercent:c,getWindowLocation:d,getCookieDomain:l,getUserAgent:e,getBrowserInfo:f,setCookie:g,buildNewCookieString:h,deleteCookie:i,getCookie:j,getCookies:k,getRootDomain:m,getParameterValue:n,urlHasParameter:o,addScriptToDocument:p,getReferrer:q,reportError:r,reportException:s,getErrorMessageAndStack:t,getJQueryInstance:u,isBrowserSupported:v}}(),CSFrameCommunication=window.CSFrameCommunication||function(){function a(){return window!=k&&window.addEventListener}function b(a){return a+"?cb="+(new Date).getTime()}function c(a,b){var c=document.createElement("script");c.type="text/javascript",c.async=!0;var d=j.replace(/^https?:/,"");c.src=d+"/"+l+"/"+a,c.onload=b,document.getElementsByTagName("head")[0].appendChild(c)}function d(){e(m.ping)}function e(a){window.addEventListener("message",a,!1)}function f(a){window.removeEventListener("message",a,!1)}function g(a){return function(b){b.origin===j&&a(b)}}function h(a){j&&k.postMessage(a,j)}function i(a){return/http:\/\/([a-z0-9]+-)?uxanalytics\.content-square\.fr/.test(a)}var j,k=window.opener||window.parent,l="tag",m={ping:function(a){"ping"===a.data&&i(a.origin)&&(j=a.origin,f(m.ping),e(m.insertMessageScript),c(b("jquery.js"),function(){window.jQuery_cs=window.jQuery.noConflict(!0),c(b("utils.js"))}))},insertMessageScript:g(function(a){var b=a.data;"string"==typeof b&&"ping"!==b&&(f(m.insertMessageScript),c(b))})};return{isActivable:a,waitForConnection:d,listen:e,removeListener:f,secureListener:g,post:h}}(),CSStorageFactory=function(){function a(a){var b=String(Math.random()).slice(2,8),c=[B,E,b,a].join(C);return H[b]={id:b,name:a},H[b][F]={},H[b][G]={},g(H[b],c)}function b(a){var b=[];for(var c in H){var d=H[c];if(d.name===a){var e=[B,E,c,a].join(C);b.push(g(d,e))}}return b}function c(a){localStorage.setItem(D,a)}function d(){return localStorage.getItem(D)}function e(){var a=d();if(!a)return c(I),!1;var b=a!==I;return b&&(I=a),b}function f(){return!1}function g(a,b){function c(b){return a[F][b]={},f(b)}function d(b){return a[G][b]=[],g(b)}function e(){return a.id}function f(c){var d=a[F][c],e=[b,F,c].join(C);return d?h(d,e):void 0}function g(c){var d=a[G][c],e=[b,G,c].join(C);return d?m(d,e):void 0}function i(){for(var b in a[F])f(b).deleteAll();for(var c in a[G])g(c).clear()}return{createMap:c,createQueue:d,getId:e,getMap:f,getQueue:g,empty:i}}function h(a,b){function c(c,d){w(a,c,d,b)}function d(a){for(var b in a)a.hasOwnProperty(b)&&c(b,a[b])}function e(b){return a[b]}function f(){var b={};for(var c in a)b[c]=a[c];return b}function g(c){y(a,c,b)}function h(){for(var b in a)g(b)}return{setItem:c,setItemsFromObject:d,getItem:e,getAll:f,deleteItem:g,deleteAll:h}}function i(a,b,c){a[b]=c}function j(a,b,c,d){localStorage.setItem(d+C+b,window.JSON.stringify(c)),i(a,b,c)}function k(a,b){delete a[b]}function l(a,b,c){localStorage.removeItem(c+C+b),k(a,b)}function m(a,b){function c(c){x(a,c,b)}function d(){for(var b=[],c=0;c<a.length;c++)void 0!==a[c]&&b.push(a[c]);return b}function e(){return a.length}function f(){return z(a,b)}function g(){for(var b=a.length,c=0;c<b;c++)f()}return{push:c,getAll:d,length:e,pop:f,clear:g}}function n(a,b){a.push(b)}function o(a,b,c){var d=a.length;localStorage.setItem(c+C+d,window.JSON.stringify(b)),n(a,b)}function p(a){return a.pop()}function q(a,b){var c=a.length-1;return localStorage.removeItem(b+C+c),p(a)}function r(a){return a[0]===B&&a[1]===E}function s(a,b){var c=b[2],d=b[3],e=b[4],f=b[5],g=b[6];t(c,d);var h=H[c];u(h,e,f);var i=h[e][f];i[g]=window.JSON.parse(localStorage.getItem(a)),e===G&&Number(g)>i.maxIndex&&(i.maxIndex=Number(g))}function t(a,b){if(!H[a]){var c={id:a,name:b};c[F]={},c[G]={},H[a]=c}}function u(a,b,c){if(!a[b][c]){var d={};b===G&&(d.maxIndex=0),a[b][c]=d}}function v(){for(var a in H){var b=H[a];for(var c in b[G]){for(var d=b[G][c],e=[],f=d.maxIndex+1,g=0;g<f;g++)e.push(d[g]);b[G][c]=e}}}var w,x,y,z,A,B="CSStorageData",C=":",D=B+C+"timeStamp",E="stores",F="maps",G="queues",H={},I=""+(new Date).getTime();return function(){var a="CSLocalStorageTest";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(a){return!1}}()?(!function(){for(var a=localStorage.length,b=0;b<a;b++){var c=localStorage.key(b),d=c.split(C);r(d)&&s(c,d)}v()}(),c(I),w=j,x=o,y=l,z=q,A=e):(w=i,x=n,y=k,z=p,A=f),{createStore:a,getAllStoresByName:b,hasBeenRecovered:A}},UXBrowserUtils=function(){return{getWindowSize:function(){var a=document.documentElement,b=document.body,c=window;return{windowWidth:c.innerWidth?c.innerWidth:a&&a.clientWidth?a.clientWidth:b&&b.clientWidth?b.clientWidth:0,windowHeight:c.innerHeight?c.innerHeight:a&&a.clientHeight?a.clientHeight:b&&b.clientHeight?b.clientHeight:0}},getDocumentSize:function(){var a=document.body,b=window;return{documentWidth:a&&a.scrollWidth>a.offsetWidth?a.scrollWidth:a&&a.offsetWidth?a.offsetWidth:b.innerWidth&&b.scrollMaxX?b.innerWidth+b.scrollMaxX:0,documentHeight:a&&a.scrollHeight>a.offsetHeight?a.scrollHeight:a&&a.offsetHeight?a.offsetHeight:b.innerHeight&&b.scrollMaxY?b.innerHeight+b.scrollMaxY:0}},getDocumentEncoding:function(){return document.charset||document.characterSet||document.inputEncoding||document.defaultCharset||""},getPageReferrer:function(){return document.referrer||window.document.referrer||window.top.document.referrer||""},getPageTitle:function(){return document.title||window.document.title||""},getPageHtml:function(){var a=document.doctype||window.document.doctype,b="";return a&&(b="<!DOCTYPE "+a.name+(a.publicId?' PUBLIC "'+a.publicId+'"':"")+(!a.publicId&&a.systemId?" SYSTEM":"")+(a.systemId?' "'+a.systemId+'"':"")+">"),b+=document.documentElement.outerHTML||"<html>"+document.documentElement.innerHTML+"</html>"},windowPerformance:{get:function(){return window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{}},dnsLookupTime:function(){var a=this.get().timing;return a?a.domainLookupEnd-a.domainLookupStart:0},timeToStartLoading:function(){var a=this.get().timing;return a?a.responseStart-a.requestStart:0},pageDownloadTime:function(){var a=this.get().timing;return a?a.responseEnd-a.responseStart:0},contentLoadEventTime:function(){var a=this.get().timing;return a?a.domContentLoadedEventEnd-a.domContentLoadedEventStart:0},loadEventTime:function(){var a=this.get().timing;return a?a.loadEventEnd-a.loadEventStart:0},timeBeforeDomLoading:function(){var a=this.get().timing;return a?a.domLoading-a.navigationStart:0},timeBeforeDomInteractive:function(){var a=this.get().timing;return a?a.domInteractive-a.navigationStart:0},timeBeforeDomComplete:function(){var a=this.get().timing;return a?a.domComplete-a.navigationStart:0}}}}(),OVERRIDABLE_OPTIONS=["trackerDomain","ed","storeInputData"],COOKIES={TEST:"_cs_t",CUSTOM_VAR_SESSION:"_cs_cvars",EXCLUDED:"_cs_ex",INCLUDED:"_cs_inc",RECORDED:"_cs_r",REFERRER_SOURCE:"uxt_referrer_source",SESSION:"_cs_s",VALIDATION:"_cs_v",VISITOR:"_cs_id"},CUSTOM_VAR_KEY_MAX_LENGTH=20,CUSTOM_VAR_VALUE_MAX_LENGTH=255,TRACKING_TAG_VERSION="3.3.1",options={cookieNamePrefix:"_cs_",visitorCookieTimeout:34164e6,sessionCookieTimeout:18e5,customVariableMaximumLength:50,projectId:"",sampleRate:100,allowSubdomains:0,trackerDomain:"",storeInputData:0,domain:void 0,record:!1,lastTrackingDraw:1},pageViewAlreadyTracked=!1,pageViewTimeStamp,MAX_NB_RENEW_SESSION_TRIES=5,nbRenewSessionTries,visitorId,APP_NAME="uxa",WARNING_LEVEL="WARNING",NB_MAX_ERRORS=5,reportedErrors,stringifiedLZString='var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(input){if(input==null){return""}var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=LZString.compress(input);while(i<input.length*2){if(i%2==0){chr1=input.charCodeAt(i/2)>>8;chr2=input.charCodeAt(i/2)&255;if(i/2+1<input.length){chr3=input.charCodeAt(i/2+1)>>8}else{chr3=NaN}}else{chr1=input.charCodeAt((i-1)/2)&255;if((i+1)/2<input.length){chr2=input.charCodeAt((i+1)/2)>>8;chr3=input.charCodeAt((i+1)/2)&255}else{chr2=chr3=NaN}}i+=3;enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else{if(isNaN(chr3)){enc4=64}}output=output+LZString._keyStr.charAt(enc1)+LZString._keyStr.charAt(enc2)+LZString._keyStr.charAt(enc3)+LZString._keyStr.charAt(enc4)}return output},decompressFromBase64:function(input){if(input==null){return""}var output="",ol=0,output_,chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0,f=LZString._f;input=input.replace(/[^A-Za-z0-9+/=]/g,"");while(i<input.length){enc1=LZString._keyStr.indexOf(input.charAt(i++));enc2=LZString._keyStr.indexOf(input.charAt(i++));enc3=LZString._keyStr.indexOf(input.charAt(i++));enc4=LZString._keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;if(ol%2==0){output_=chr1<<8;if(enc3!=64){output+=f(output_|chr2)}if(enc4!=64){output_=chr3<<8}}else{output=output+f(output_|chr1);if(enc3!=64){output_=chr2<<8}if(enc4!=64){output+=f(output_|chr3)}}ol+=3}return LZString.decompress(output)},compressToUTF16:function(input){if(input==null){return""}var output="",i,c,current,status=0,f=LZString._f;input=LZString.compress(input);for(i=0;i<input.length;i++){c=input.charCodeAt(i);switch(status++){case 0:output+=f((c>>1)+32);current=(c&1)<<14;break;case 1:output+=f((current+(c>>2))+32);current=(c&3)<<13;break;case 2:output+=f((current+(c>>3))+32);current=(c&7)<<12;break;case 3:output+=f((current+(c>>4))+32);current=(c&15)<<11;break;case 4:output+=f((current+(c>>5))+32);current=(c&31)<<10;break;case 5:output+=f((current+(c>>6))+32);current=(c&63)<<9;break;case 6:output+=f((current+(c>>7))+32);current=(c&127)<<8;break;case 7:output+=f((current+(c>>8))+32);current=(c&255)<<7;break;case 8:output+=f((current+(c>>9))+32);current=(c&511)<<6;break;case 9:output+=f((current+(c>>10))+32);current=(c&1023)<<5;break;case 10:output+=f((current+(c>>11))+32);current=(c&2047)<<4;break;case 11:output+=f((current+(c>>12))+32);current=(c&4095)<<3;break;case 12:output+=f((current+(c>>13))+32);current=(c&8191)<<2;break;case 13:output+=f((current+(c>>14))+32);current=(c&16383)<<1;break;case 14:output+=f((current+(c>>15))+32,(c&32767)+32);status=0;break}}return output+f(current+32)},decompressFromUTF16:function(input){if(input==null){return""}var output="",current,c,status=0,i=0,f=LZString._f;while(i<input.length){c=input.charCodeAt(i)-32;switch(status++){case 0:current=c<<1;break;case 1:output+=f(current|(c>>14));current=(c&16383)<<2;break;case 2:output+=f(current|(c>>13));current=(c&8191)<<3;break;case 3:output+=f(current|(c>>12));current=(c&4095)<<4;break;case 4:output+=f(current|(c>>11));current=(c&2047)<<5;break;case 5:output+=f(current|(c>>10));current=(c&1023)<<6;break;case 6:output+=f(current|(c>>9));current=(c&511)<<7;break;case 7:output+=f(current|(c>>8));current=(c&255)<<8;break;case 8:output+=f(current|(c>>7));current=(c&127)<<9;break;case 9:output+=f(current|(c>>6));current=(c&63)<<10;break;case 10:output+=f(current|(c>>5));current=(c&31)<<11;break;case 11:output+=f(current|(c>>4));current=(c&15)<<12;break;case 12:output+=f(current|(c>>3));current=(c&7)<<13;break;case 13:output+=f(current|(c>>2));current=(c&3)<<14;break;case 14:output+=f(current|(c>>1));current=(c&1)<<15;break;case 15:output+=f(current|c);status=0;break}i++}return LZString.decompress(output)},compressToUint8Array:function(uncompressed){var compressed=LZString.compress(uncompressed);var buf=new Uint8Array(compressed.length*2);for(var i=0,TotalLen=compressed.length;i<TotalLen;i++){var current_value=compressed.charCodeAt(i);buf[i*2]=current_value>>>8;buf[i*2+1]=current_value%256}return buf},decompressFromUint8Array:function(compressed){if(compressed===null||compressed===undefined){return LZString.decompress(compressed)}else{var buf=new Array(compressed.length/2);for(var i=0,TotalLen=buf.length;i<TotalLen;i++){buf[i]=compressed[i*2]*256+compressed[i*2+1]}return LZString.decompress(String.fromCharCode.apply(null,buf))}},compressToEncodedURIComponent:function(uncompressed){return LZString.compressToBase64(uncompressed).replace("=","$").replace("/","-")},decompressFromEncodedURIComponent:function(compressed){if(compressed){compressed=compressed.replace("$","=").replace("-","/")}return LZString.decompressFromBase64(compressed)},compress:function(uncompressed){if(uncompressed==null){return""}var i,value,context_dictionary={},context_dictionaryToCreate={},context_c="",context_wc="",context_w="",context_enlargeIn=2,context_dictSize=3,context_numBits=2,context_data_string="",context_data_val=0,context_data_position=0,ii,f=LZString._f;for(ii=0;ii<uncompressed.length;ii+=1){context_c=uncompressed.charAt(ii);if(!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)){context_dictionary[context_c]=context_dictSize++;context_dictionaryToCreate[context_c]=true}context_wc=context_w+context_c;if(Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)){context_w=context_wc}else{if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}}value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|value;if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=0}value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}delete context_dictionaryToCreate[context_w]}else{value=context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}context_dictionary[context_wc]=context_dictSize++;context_w=String(context_c)}}if(context_w!==""){if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}}value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|value;if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=0}value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}delete context_dictionaryToCreate[context_w]}else{value=context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}}value=2;for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==15){context_data_position=0;context_data_string+=f(context_data_val);context_data_val=0}else{context_data_position++}value=value>>1}while(true){context_data_val=(context_data_val<<1);if(context_data_position==15){context_data_string+=f(context_data_val);break}else{context_data_position++}}return context_data_string},decompress:function(compressed){if(compressed==null){return""}if(compressed==""){return null}var dictionary=[],next,enlargeIn=4,dictSize=4,numBits=3,entry="",result="",i,w,bits,resb,maxpower,power,c,f=LZString._f,data={string:compressed,val:compressed.charCodeAt(0),position:32768,index:1};for(i=0;i<3;i+=1){dictionary[i]=i}bits=0;maxpower=Math.pow(2,2);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}switch(next=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}c=f(bits);break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}c=f(bits);break;case 2:return""}dictionary[3]=c;w=result=c;while(true){if(data.index>data.string.length){return""}bits=0;maxpower=Math.pow(2,numBits);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}switch(c=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=32768;data.val=data.string.charCodeAt(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 2:return result}if(enlargeIn==0){enlargeIn=Math.pow(2,numBits);numBits++}if(dictionary[c]){entry=dictionary[c]}else{if(c===dictSize){entry=w+w.charAt(0)}else{return null}}result+=entry;dictionary[dictSize++]=w+entry.charAt(0);enlargeIn--;w=entry;if(enlargeIn==0){enlargeIn=Math.pow(2,numBits);numBits++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString};',validationSchema={isString:isString,isNotEmptyString:isNotEmptyString,isObject:isObject,isDefined:isDefined,isDefinedAndNotNull:isDefinedAndNotNull,CACHE_BUSTING:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"r",isValid:function(a){return isPositiveInt(parseInt(a))&&6===a.length},isValidType:isString},HIT_DATE:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"hd",isValid:isValidTimestamp,isValidType:isValidTimestamp},LAST_HIT_DATE:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"lhd",isValid:isValidTimestamp,isValidType:isValidTimestamp},LAST_VISIT:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"lv",isValid:isValidTimestamp,isValidType:isValidTimestamp},PROJECT_ID:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"pid",isValid:isStrictlyPositiveInt,isValidType:isInt},PAGE_NUMBER:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"pn",isValid:isStrictlyPositiveInt,isValidType:isInt},RECORDING:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"re",isValid:isBoolean,isValidType:isBoolean},SESSION_NUMBER:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"sn",isValid:isStrictlyPositiveInt,isValidType:isInt},USER_ID:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"uu",isValid:function(a){return new RegExp(/[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$/).test(a)},isValidType:isString},DOM_COMPLETE:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"dc",isValid:isPositiveInt,isValidType:isInt},DOM_INTERACTIVE:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"di",isValid:isPositiveInt,isValidType:isInt},EVENT:{getErrorMessage:getErrorMessage,getFormattedValue:getFormattedEvent,paramName:"e",isValid:isValidEvent,isValidType:isArray},FULLY_LOADED:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"fl",isValid:isPositiveInt,isValidType:isInt},SCROLL_RATE:{getErrorMessage:getErrorMessage,getFormattedValue:identity,
paramName:"sr",isValid:function(a){return isValidInt(parseInt(a),0,100)},isValidType:isInt},START_RENDER:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"str",isValid:isPositiveInt,isValidType:isInt},PAGE_URL:{getErrorMessage:getErrorMessage,getFormattedValue:encodeURIComponent,paramName:"url",isValid:isValidUrl,isValidType:isString},PAGE_CONTENT:{getErrorMessage:getErrorMessage,getFormattedValue:encodeURIComponent,paramName:"content",isValid:isString,isValidType:isString},CUSTOM_VAR_PAGE:{getErrorMessage:getErrorMessage,getFormattedValue:getValidCustomVars,paramName:"cvarp",isValid:isValidCustomVar,isValidType:isObject},CUSTOM_VAR_SESSION:{getErrorMessage:getErrorMessage,getFormattedValue:getValidCustomVars,paramName:"cvars",isValid:isValidCustomVar,isValidType:isObject},CUSTOM_VAR_USER:{getErrorMessage:getErrorMessage,getFormattedValue:getValidCustomVars,paramName:"cvaru",isValid:isValidCustomVar,isValidType:isObject},DOCUMENT_HEIGHT:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"dh",isValid:isPositiveInt,isValidType:isInt},DOCUMENT_WIDTH:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"dw",isValid:isPositiveInt,isValidType:isInt},LANGUAGE:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"la",isValid:isString,isValidType:isString},REFERRER:{getErrorMessage:getErrorMessage,getFormattedValue:encodeURIComponent,paramName:"dr",isValid:function(a){return!a||isValidUrl(a)},isValidType:isString},SCREEN_HEIGHT:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"sh",isValid:isPositiveInt,isValidType:isInt},SCREEN_WIDTH:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"sw",isValid:isPositiveInt,isValidType:isInt},URL:{getErrorMessage:getErrorMessage,getFormattedValue:encodeURIComponent,paramName:"url",isValid:isValidUrl,isValidType:isString},TESTS:{getErrorMessage:getErrorMessage,getFormattedValue:getValidTests,paramName:"uxt",isValid:areTestsValid,isValidType:isArray},TESTING_TAG_VERSION:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"uxtv",isValid:isString,isValidType:isString},WINDOW_HEIGHT:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"wh",isValid:isPositiveInt,isValidType:isInt},WINDOW_WIDTH:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"ww",isValid:isPositiveInt,isValidType:isInt},ITEMS:{getErrorMessage:getErrorMessage,getFormattedValue:getValidItems,paramName:"items",isValid:isValidItems,isValidType:isArray},REVENUE:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"revenue",isValid:isNumber,isValidType:isNumber},SHIPPING:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"shipping",isValid:isNumber,isValidType:isNumber},TAX:{getErrorMessage:getErrorMessage,getFormattedValue:identity,paramName:"tax",isValid:isNumber,isValidType:isNumber},TRANSACTION_ID:{getErrorMessage:getErrorMessage,getFormattedValue:encodeURIComponent,paramName:"id",isValid:isNotEmptyString,isValidType:function(a){return"undefined"!==a&&isNotEmptyString(a)}}},CSIoFactory=function(){function generatePixel(a){var b=new Image(1,1);b.onload=doNothingHandler,b.onerror=doNothingHandler,b.src="https://"+options.trackerDomain+a}function sendRequest(a,b){var c=new Date;generatePixel("/"+b+"?"+a),expireDateTime=c.getTime()+trackerPause}function doNothingHandler(){}function sendHtml(a){if(a||!1||getPageViewAlreadyTracked()&&!htmlSent&&startSend>stopSend){renewSessionIfNeeded(),htmlSent=!0;var b=UXBrowserUtils.getPageHtml();b=b.replace(/<!-- MousetestSensitiveStart ([\s\S]*?)-->([\s\S]*?)<!-- MousetestSensitiveEnd -->/g,"$1"),1!==options.storeInputData&&(b=stripUserInputData(b));var c=getBaseParams();c.PAGE_URL=window.location.href,compressInWorker(b,function(a){tryToExecute("Send compressed HTML",function(){a&&(c.PAGE_CONTENT=a,sendValidRequest(c,"page"))})()})}}function compressInWorker(html,callback){function workerScript(){self.addEventListener("message",function(e){var exports={};eval(e.data[1]+"exports.LZString = LZString;"),self.postMessage(exports.LZString.compressToBase64(e.data[0]))},!1)}var compressionWorker=createWorker("("+workerScript.toString()+")()");null!==compressionWorker&&(compressionWorker.onmessage=function(a){callback(a.data)},compressionWorker.onerror=function(a){reportError(a.message)},compressionWorker.postMessage([html,stringifiedLZString]))}function createWorker(a){var b=window.URL||window.webkitURL,c=window.Blob,d=window.Worker;if(!b||!c||!d)return null;var e;try{e=new c([a])}catch(b){var f=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,g=new f;g.append(a),e=g.getBlob()}var h;try{h=new d(b.createObjectURL(e))}catch(a){h=null}return h}function stripUserInputData(a){return a=a.replace(/(<\s*input)([^>]*)(type\s*=\s*('|")\s*(?:email|file|hidden|number|password|search|tel|text)\s*\4)([^>]*)(value\s*=\s*'[^']*'|value\s*=\s*"[^"]*")/gim,"$1$2$3$5value=''"),a=a.replace(/(<\s*input)([^>]*)(value\s*=\s*'[^']*'|value\s*=\s*"[^"]*")([^>]*)(type\s*=\s*('|")\s*(?:email|file|hidden|number|password|search|tel|text)\s*\6)/gim,"$1$2value=''$4$5"),a=a.replace(/(<\s*textarea)([^>]*)>([^<]*)/gim,"$1$2>")}function getBaseParams(){var a=getVisitorWithDefaults();return{PROJECT_ID:options.projectId,CACHE_BUSTING:String(Math.random()).slice(2,8),USER_ID:a.id,PAGE_NUMBER:getPageNumber(),LAST_VISIT:a.lastVisitTimestamp,HIT_DATE:a.hitTimestamp,LAST_HIT_DATE:a.lastVisitTimestamp,SESSION_NUMBER:a.visitsCount,RECORDING:Number(options.record)}}function getErrorMessagesForInvalidParams(a){var b=[];for(var c in a){var d=validationSchema[c],e=a[c],f=d.paramName;d.isValidType(e)?d.isValid(e)||b.push(d.getErrorMessage(c,f,e)):b.push("Breaking TypeError: "+d.getErrorMessage(c,f,e))}return b}function generateRequest(a){var b=[];for(var c in a){var d=validationSchema[c],e=a[c],f=d.paramName;b.push(f+"="+d.getFormattedValue(e))}return b.push(getVersionParam()),b.join("&")}function getVersionParam(){return UXA_VERSION_PARAM_NAME+"="+TRACKING_TAG_VERSION}function sendValidRequest(a,b){if(null===UXUtils.getCookie(COOKIES.EXCLUDED)){var c=getErrorMessagesForInvalidParams(a);c.length>0&&reportError("["+b+"] "+c+" (cookies: "+stringifyCookies()+")");var d=generateRequest(a);"page"!==b?sendRequest(d,b):sendCrossBrowserAjaxRequest(d,"/page")}}function incrementStartSend(){startSend+=1}function incrementStopSend(){stopSend+=1}function sendCrossBrowserAjaxRequest(a,b){if(null!==window.XMLHttpRequest){var c=new XMLHttpRequest;c.open("POST","https://"+options.trackerDomain+b,!0),c.setRequestHeader("Access-Control-Expose-Headers","Content-compression"),c.setRequestHeader("Content-type","text/plain, charset=UTF-8"),c.setRequestHeader("Content-compression","LZString"),c.onreadystatechange=function(){},c.send(a)}}function stringifyCookies(){var a="";for(var b in COOKIES)Object.prototype.hasOwnProperty.call(COOKIES,b)&&(a+="["+b+"] "+window.JSON.stringify(UXUtils.getCookie(COOKIES[b]))+"; ");return a}var UXA_VERSION_PARAM_NAME="v",expireDateTime,trackerPause=400,htmlSent=!1,stopSend=0,startSend=1;return{sendValidRequest:sendValidRequest,sendHtml:sendHtml,getBaseParams:getBaseParams,incrementStartSend:incrementStartSend,incrementStopSend:incrementStopSend}},CSEventsFactory=function(a,b){function c(){var a={};if(S.timing&&S.timing.loadEventEnd>0){var b=S.timing;a.FULLY_LOADED=b.loadEventEnd-b.requestStart,a.START_RENDER=b.domLoading-b.requestStart,a.DOM_COMPLETE=b.domComplete-b.requestStart,a.DOM_INTERACTIVE=b.domInteractive-b.requestStart}return a}function d(){if(e(),k(),window.addEventListener("resize",k),document.addEventListener("scroll",l),document.addEventListener("mousemove",m),document.addEventListener("mousedown",n),document.addEventListener("mouseup",o),document.addEventListener("click",p),!D())return void reportError("Element.matches is not implemented yet");f()}function e(){for(var a=0;a<R.length;a++){var b=R[a];j(b.getQueue(Q.EVENTS),b.getMap(Q.EVENTS_META_DATA)),b.empty()}}function f(){g("mouseover","a, a *, button, button *, select, select *, input, textarea",q),g("mouseout","a, a *, button, button *, select, select *, input, textarea",r),g("focusin","select, select *, input, textarea",v),g("focusout","select, select *, input, textarea",w),1===options.storeInputData&&(g("keypress",'input[type="text"], textarea',s),g("keyup",'input[type="text"], textarea',t),g("change","select, select *, input, textarea",u))}function g(a,b,c){document.addEventListener(a,function(a){a.target!==document&&C(a.target,b)&&c(a)})}function h(c,d){renewSessionIfNeeded(),a.hasBeenRecovered()&&U.clear(),0===U.length()&&V.setItemsFromObject(b.getBaseParams());var e=+new Date,f=[c,e-getPageViewTimeStamp()];"x"in d&&f.push(d.x),"y"in d&&f.push(d.y),"target"in d&&f.push(d.target),"value"in d&&f.push(d.value),U.push(f),U.length()>(options.record?N:O)&&i()}function i(){V.setItemsFromObject(c()),j(U,V),U.clear()}function j(a,c){if(a&&c){var d=c.getAll();d.EVENT=a.getAll(),d.SESSION_NUMBER&&d.PAGE_NUMBER&&d.EVENT.length>0&&b.sendValidRequest(d,"events")}}function k(){tryToExecute("CSEvents.resizeHandler",function(){var a=UXBrowserUtils.getWindowSize();h(M.RESIZE,{x:a.windowWidth,y:a.windowHeight})})()}function l(){tryToExecute("CSEvents.scrollHandler",function(){options.record&&h(M.SCROLL,{x:window.pageXOffset,y:window.pageYOffset}),x()})()}function m(a){tryToExecute("CSEvents.mouseMoveHandler",function(){options.record&&h(M.MOUSEMOVE,{x:a.pageX,y:a.pageY})})()}function n(a){tryToExecute("CSEvents.mouseDownHandler",function(){h(M.MOUSEDOWN,{x:a.pageX,y:a.pageY,target:B(a)})})()}function o(a){tryToExecute("CSEvents.mouseUpHandler",function(){h(M.MOUSEUP,{x:a.pageX,y:a.pageY,target:B(a)})})()}function p(a){tryToExecute("CSEvents.clickHandler",function(){h(M.CLICK,{x:a.pageX,y:a.pageY,target:B(a)})})()}function q(a){tryToExecute("CSEvents.mouseOverHandler",function(){h(M.MOUSEHOVER,{x:a.pageX,y:a.pageY,target:B(a)})})()}function r(a){tryToExecute("CSEvents.mouseOutHandler",function(){h(M.MOUSEOUT,{x:a.pageX,y:a.pageY,target:B(a)})})()}function s(a){tryToExecute("CSEvents.keyPressHandler",function(){E(a.target,"cs-exclude")||h(M.KEYPRESS,{target:B(a),value:F(a)})})()}function t(a){tryToExecute("CSEvents.keyUpHandler",function(){E(a.target,"cs-exclude")||h(M.KEYUP,{target:B(a),value:F(a)})})()}function u(a){tryToExecute("CSEvents.changeHandler",function(){E(a.target,"cs-exclude")||"password"===a.target.type||h(M.CHANGE,{target:B(a),value:F(a)})})()}function v(a){tryToExecute("CSEvents.focusHandler",function(){h(M.FOCUS,{target:B(a)})})()}function w(a){tryToExecute("CSEvents.blurHandler",function(){h(M.BLUR,{target:B(a)})})()}function x(){var a=A(),b=z(a),c=window.pageYOffset,d=c+b,e=Math.round(d/a*100);e>V.getItem(P)&&V.setItem(P,e)}function y(){var a=A(),b=z(a);V.setItem(P,Math.round(b/a*100))}function z(a){for(var b=[window.innerHeight,document.body.clientHeight,document.documentElement.clientHeight],c=0;c<b.length;c++){var d=b[c];if(d&&d<a)return d}return a}function A(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}function B(a){return window.CSPathComputation.getElementPath(a.target)}function C(a,b){return D().call(a,b)}function D(){return Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector}function E(a,b){return 1===a.nodeType&&(" "+a.className+" ").replace(/[\t\r\n\f]/g," ").indexOf(" "+b+" ")>-1}function F(a){var b=a.target;return"select"===b.localName.toLowerCase()?G(b):a.target.value}function G(a){return"select-one"===a.type?I(a):H(a)}function H(a){var b=[],c=a.selectedIndex;if(c<0)return b;for(var d=a.options,e=0;e<d.length;e++){var f=d[e];if((f.selected||e===c)&&J(f)){var g=L(f);b.push(g)}}return b}function I(a){var b=null,c=a.selectedIndex;if(c<0)return b;var d=a.options,e=d[c];return J(e)&&(b=L(e)),b}function J(a){return(!a.disabled||null===a.getAttribute("disabled"))&&K(a.parentNode)}function K(a){return!a.disabled||!(a.nodeName&&"optgroup"===a.nodeName.toLowerCase())}function L(a){var b=a.getAttribute("value");return null===b?a.textContent:b}var M={RESIZE:0,SCROLL:1,MOUSEMOVE:2,MOUSEDOWN:3,MOUSEUP:4,CLICK:5,MOUSEHOVER:6,MOUSEOUT:7,KEYPRESS:8,KEYUP:9,CHANGE:10,FOCUS:11,BLUR:12,SUBMIT:13},N=100,O=50,P="SCROLL_RATE",Q={EVENTS_STORE:"eventsStore",EVENTS:"events",EVENTS_META_DATA:"eventsMetaData"},R=a.getAllStoresByName(Q.EVENTS_STORE),S=UXBrowserUtils.windowPerformance.get(),T=a.createStore(Q.EVENTS_STORE),U=T.createQueue(Q.EVENTS),V=T.createMap(Q.EVENTS_META_DATA);return V.setItem(P,0),{init:d,pushEvents:i,initMaxScrollRate:y}},CSTransactionFactory=function(a){function b(a){e=a}function c(a){f.push(a)}function d(){renewSessionIfNeeded();var b=a.getBaseParams();b.TRANSACTION_ID=e.id,b.REVENUE=parseFloat(e.revenue),isNaN(parseFloat(e.tax))||(b.TAX=parseFloat(e.tax)),isNaN(parseFloat(e.shipping))||(b.SHIPPING=parseFloat(e.shipping)),f&&(b.ITEMS=f),a.sendValidRequest(b,"transaction")}var e={},f=[];return{addTransaction:b,addTransactionItem:c,send:d}},CSTrackerFactory=function(a,b,c){function d(a){var b=UXBrowserUtils.getDocumentSize();return{width:b.documentWidth<a.windowWidth?a.windowWidth:b.documentWidth,height:b.documentHeight<a.windowHeight?a.windowHeight:b.documentHeight}}function e(a){for(var b in a)options[b]=a[b]}function f(a){options.projectId=a}function g(){var a=UXUtils.getCookie(COOKIES.CUSTOM_VAR_SESSION);return null!==a&&(a=window.JSON.parse(a),validationSchema.isObject(a))?a:{}}function h(){getPageViewAlreadyTracked()||l(),J?b.initMaxScrollRate():K.push(function(){b.initMaxScrollRate()})}function i(c){b.pushEvents(),initPageViewTimeStamp(),j(c),l(),options.record&&a.sendHtml(!0)}function j(a){validationSchema.isDefined(a)&&(F=a)}function k(a,b){if(""===a)return b.href;var c="/"===a.substring(0,1)?a:"/"+a;return b.protocol+"//"+b.host+c+b.search}function l(){updateVisitorAndSessionCookies();var b=a.getBaseParams();m(b),n(b),o(b),a.sendValidRequest(b,"pageview"),setPageViewAlreadyTracked(!0)}function m(a){var b=UXBrowserUtils.getWindowSize(),c=d(b);a.DOCUMENT_WIDTH=c.width,a.DOCUMENT_HEIGHT=c.height,a.LANGUAGE=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown",a.REFERRER=L,a.SCREEN_WIDTH=screen.width,a.SCREEN_HEIGHT=screen.height,a.URL=k(F,window.location),a.WINDOW_WIDTH=b.windowWidth,a.WINDOW_HEIGHT=b.windowHeight}function n(a){var b=g();for(var c in H)b[c]=H[c];window.JSON.stringify(b).length>2&&(a.CUSTOM_VAR_SESSION=b,a.CUSTOM_VAR_USER=b,H&&window.JSON.stringify(H).length>2&&(a.CUSTOM_VAR_PAGE=H))}function o(a){D?(a.TESTS=D.tests.map(function(a){return[a.id,a.version]}),a.TESTING_TAG_VERSION=D.tagVersion):G&&G.length>0&&(a.TESTS=G)}function p(a){var b=Array.prototype.shift.call(a);E[b]&&E[b].apply(E,a)}function q(){if(!J){J=!0;for(var a=0;a<K.length;a++)K[a]()}return!0}function r(a){c.addTransaction(a)}function s(a){c.addTransactionItem(a)}function t(){c.send()}function u(){a.incrementStopSend()}function v(){a.incrementStartSend(),options.record&&a.sendHtml()}function w(a,b){f(a),e(b);for(var c=0;c<I.length;c++)p(I[c])}function x(a,b){G.push([a,b])}function y(){J?(options.record&&a.sendHtml(),b.init()):K.push(function(){options.record&&a.sendHtml(),b.init()})}function z(a,b,c,d){var e,f;if(a>0&&validationSchema.isDefinedAndNotNull(b)&&validationSchema.isDefinedAndNotNull(c)){if(b=validationSchema.isString(b)?b:String(b),c=validationSchema.isString(c)?c:String(c),e=[b.slice(0,CUSTOM_VAR_KEY_MAX_LENGTH),c.slice(0,CUSTOM_VAR_VALUE_MAX_LENGTH)],f=""!==c,!validationSchema.isDefined(d)||"visit"===d||2===d){var h=g();f?h[a]=e:delete h[a],UXUtils.setCookie(COOKIES.CUSTOM_VAR_SESSION,window.JSON.stringify(h),options.domain)}validationSchema.isDefined(d)&&"page"!==d&&3!==d||(f?H[a]=e:delete H[a])}}function A(a){D=a}function B(a){for(var b=0;b<a.length;b++)a[b]&&I.push(a[b])}function C(a,b){OVERRIDABLE_OPTIONS.indexOf(a)>-1&&(options[a]=b)}var D,E,F="",G=[],H={},I=[],J=!1,K=[],L=function(){var a=UXUtils.getCookie(COOKIES.REFERRER_SOURCE);return null!==a?(UXUtils.deleteCookie(COOKIES.REFERRER_SOURCE),a):UXUtils.getReferrer()}();return function(a){function b(){document.removeEventListener("DOMContentLoaded",b),window.removeEventListener("load",b),a()}"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?setTimeout(a):(document.addEventListener("DOMContentLoaded",b),window.addEventListener("load",b))}(tryToExecute("CSTracker.loadHandler",q)),E={"ecommerce:addTransaction":r,"ecommerce:addItem":s,"ecommerce:send":t,"page:asyncSendHtml":u,"page:sendHtml":v,create:w,sendPageView:h,trackPageview:i,trackUXT:x,record:y,setCustomVariable:z,setPath:j,setTestContext:A,initProjectLoadHandlers:B,setOption:C,apply:p}};overrideOptions(),initJQuery();var DEFAULT_VALIDATION_RATE=10,STATUS_ACTIVE=1,CSLoader={isAlreadyLoaded:!1,load:function(a){if(initReportedErrors(),this.isLoadAllowed(a)){if(this.isActiveProject(a)){var b=this;tryToExecute("CSLoader.load",function(a){b.conf=a,b.setEnv(),b.initValidation(),b.initUXA(),b.executeLoad()})(a)}tryToExecute("Wait for frame connection",function(){CSFrameCommunication.isActivable()&&(window.CSFrameCommunication=CSFrameCommunication,CSFrameCommunication.waitForConnection())})()}},isLoadAllowed:function(a){return!this.isUXALoaded()&&this.areCookieEnabled()&&!this.isDocPrerendered()&&this.isConfValid(a)&&isBrowserSupported()&&UXUtils.isBrowserSupported()},isUXALoaded:function(){return this.isAlreadyLoaded||void 0!==window.UXAnalytics},areCookieEnabled:function(){return"cookie"in document&&(document.cookie.length>0||UXUtils.setCookie(COOKIES.TEST,1)&&document.cookie.indexOf(COOKIES.TEST)>-1)},isDocPrerendered:function(){return"visibilityState"in document&&"prerender"===document.visibilityState},isConfValid:function(a){return void 0!==a.projectId},isActiveProject:function(a){return 1===a.status},setEnv:function(){this.env=this.initEnvParameters(this.conf.allowSubdomains)},initEnvParameters:function(a){return{host:window.location.hostname,domain:UXUtils.getCookieDomain(a)}},initValidation:function(){if(!this.hasValidationCookie()){var a=void 0!==this.conf.validationRate?this.conf.validationRate:10;UXUtils.randLtPercent(a)?this.activateValidation(this.env.domain):this.excludeValidation(this.env.domain)}},initUXA:function(){window.UXAnalytics=UXA()},executeLoad:function(){if(this.isAlreadyLoaded=!0,this.matchHostnames()){var a=UXUtils.randLtPercent(this.conf.sampleRate);this.deletePreviousCookiesIfNeeded(a),!this.isExcludedUser()&&(100===this.conf.sampleRate||this.isReturningVisitor()||a)||this.isForcedIncludedUser()?(this.hasRecordingCookie()||(this.isForcedIncludedUser()||UXUtils.randLtPercent(this.conf.recordingRate)?this.recordUser(this.env.domain):this.excludeRecording(this.env.domain)),this.executeCommand("create",this.conf.projectId,{trackerDomain:this.conf.trackerDomain,allowSubdomains:this.conf.allowSubdomains,domain:this.env.domain,sampleRate:this.conf.sampleRate,storeInputData:this.conf.storeInputData,record:this.isRecorded(),visitorCookieTimeout:this.conf.visitorCookieTimeout,lastTrackingDraw:this.conf.lastTrackingDraw}),this.executeCommand("sendPageView"),this.executeCommand("record")):this.excludeUser(this.env.domain)}else window._uxa=[]},hasRecordingCookie:function(){return null!==UXUtils.getCookie(COOKIES.RECORDED)},recordUser:function(a){UXUtils.setCookie(COOKIES.RECORDED,"1",a)},excludeRecording:function(a){UXUtils.setCookie(COOKIES.RECORDED,"0",a)},isRecorded:function(){return"1"==UXUtils.getCookie(COOKIES.RECORDED)},hasValidationCookie:function(){return null!==UXUtils.getCookie(COOKIES.VALIDATION)},activateValidation:function(a){UXUtils.setCookie(COOKIES.VALIDATION,"1",a)},excludeValidation:function(a){UXUtils.setCookie(COOKIES.VALIDATION,"0",a)},deletePreviousCookiesIfNeeded:function(a){this.isLastDrawObsolete()&&(UXUtils.deleteCookie(COOKIES.EXCLUDED,this.env.domain),a||UXUtils.deleteCookie(COOKIES.VISITOR,this.env.domain))},excludeUser:function(a){UXUtils.setCookie(COOKIES.EXCLUDED,this.conf.lastTrackingDraw||"1",a,2592e6)},isReturningVisitor:function(){return null!==UXUtils.getCookie(COOKIES.VISITOR)},isExcludedUser:function(){return null!==UXUtils.getCookie(COOKIES.EXCLUDED)||window.location.href.indexOf(COOKIES.EXCLUDED)>0},isForcedIncludedUser:function(){return null!==UXUtils.getCookie(COOKIES.INCLUDED)||window.location.href.indexOf(COOKIES.INCLUDED)>0},isLastDrawObsolete:function(){if(this.conf.lastTrackingDraw){return(UXUtils.getCookie(COOKIES.EXCLUDED)||""+getInclusionTimeStamp())!==""+this.conf.lastTrackingDraw}return!1},executeCommand:function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];window._uxa.push(a)},matchHostnames:function(){for(var a=0;a<this.conf.hostnames.length;a++)if(this.env.host.indexOf(this.conf.hostnames[a])>=0)return!0;return!1}};window.CS_CONF=window.CS_CONF||{},CSLoader.load(window.CS_CONF)}();