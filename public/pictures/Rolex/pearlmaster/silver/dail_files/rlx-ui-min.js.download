!function e(t,n,r){function s(o,u){var a,f,l;if(!n[o]){if(!t[o]){if(a="function"==typeof require&&require,!u&&a)return a(o,!0);if(i)return i(o,!0);throw f=new Error("Cannot find module '"+o+"'"),f.code="MODULE_NOT_FOUND",f}l=n[o]={exports:{}},t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var o,i="function"==typeof require&&require;for(o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var klass=require("./class").class;module.exports.Iterator=klass(function(statics){return Object.defineProperties(statics,{iterable:{enumerable:!0,value:function(o){try{return Object.keys(o),!0}catch(e){return!!o&&Object.prototype.hasOwnProperty.call(o,"length")}return!1}},iterate:{enumerable:!0,value:function(o,rv,i,l,lead,trail){if(o=o||Object.create(null),o.constructor===Object&&o.hasOwnProperty("length"))try{for(rv=Array.prototype.slice.call(o),i=0,l=o.length;i<l;i++)if(!rv.hasOwnProperty(i))throw new Error;o=rv}catch(e){}if(o&&"[object String]"==Object.prototype.toString.call(o)){for(rv=[],i=0,l=o.length;i<l;i++)lead=o.charCodeAt(i),trail=o.charCodeAt(i<l-1?i+1:""),rv.push(lead>=55296&&lead<=56319&&trail>=56320&&trail<=57343?o[i]+o[++i]:o[i]);return rv}try{return rv=Object.keys(o)}catch(e){return rv=[]}}}}),{constructor:function(o,opt_keys,keys,i,l){for(opt_keys=!!arguments[1]||"[object String]"==Object.prototype.toString.call(arguments[0]),keys=statics.iterate(o),i=0,l=keys.length,Object.defineProperties(this,{_pointer:{writable:!0,value:-1},_range:{value:[]}});i<l;i++)this._range[i]=opt_keys?[keys[i]]:[keys[i],arguments[0][keys[i]]]},next:{enumerable:!0,value:function(cb,idx){return cb="function"==typeof cb?cb:null,idx=++this._pointer,Object.defineProperty(this,"_current",{configurable:!0,value:idx>=(this._range||[]).length?{index:null,key:null,value:null,done:!0}:{index:idx,key:this._range[idx][0],value:this._range[idx][this._range[idx].length-1],done:!1}}),cb&&cb(this.current.done,this.current.key,this.current.value),this.current}},range:{enumerable:!0,get:function(){return this._range?[].concat(this._range):[]}},pointer:{enumerable:!0,get:function(){return this._pointer}},length:{enumerable:!0,get:function(){return this._range.length}},current:{enumerable:!0,get:function(){return this._current||this.next(),this._current}},purge:{enumerable:!0,configurable:!0,value:function(){}}}})},{"./class":4}],2:[function(require,module,exports){"use strict";var _=require("./utils"),klass=require("./class").class,Iterator=require("./Iterator").Iterator,UID=require("./UID").UID;module.exports.Promise=klass(function(statics){var promises=Object.create(null);return Object.defineProperties(statics,{all:{enumerable:!0,value:function(promises){if(!Iterator.iterable(promises))throw new TypeError("mbx.Promise.all requires an iterable object as argument 0.");return new module.exports.Promise(function(resolve,reject,iterator,length,value){function onresolve(idx){return function(v){value[idx]=v,--length||resolve(value)}}function onreject(e){reject(e)}if(iterator=new Iterator(promises),length=promises.length,value=[],iterator.length)for(;!iterator.next().done;)void function(iteration,input){input=iteration.value,module.exports.Promise.isImplementedBy(input)||(input=module.exports.Promise.cast(input)),input.then(onresolve(iteration.index),onreject)}(iterator.current);else resolve()})}},cast:{enumerable:!0,value:function(v){return module.exports.Promise.isImplementedBy(v)?v:new module.exports.Promise(function(resolve){resolve("function"==_.typeof(v)?v():v)})}},race:{enumerable:!0,value:function(promises){if(!Iterator.iterable(promises))throw new TypeError("mbx.Promise.race requires an iterable object as argument 0.");return new module.exports.Promise(function(resolve,reject,iterator,length,resolved){function onresolve(v){resolved||(resolved=!0,resolve(v))}function onreject(){--length||reject(new Error("all promises were rejected"))}for(iterator=new Iterator(promises),length=iterator.length;!iterator.next().done;)module.exports.Promise.isImplementedBy(iterator.current.value)&&iterator.current.value.then(onresolve,onreject)})}},reject:{enumerable:!0,value:function(reason){return new module.exports.Promise(function(resolve,reject){reject(reason)})}},resolve:{enumerable:!0,value:function(value){return new module.exports.Promise(function(resolve){resolve(value)})}},getByUid:{enumerable:!0,value:function(uid){return promises[uid]?promises[uid].promise:void 0}},PENDING:{enumerable:!0,value:"pending"},RESOLVED:{enumerable:!0,value:"resolved"},REJECTED:{enumerable:!0,value:"rejected"}}),{constructor:function(resolver,resolved){function resolve(v,handlers){if(!resolved)for(resolved=!0,promises[this.uid].state.key=this.RESOLVED,promises[this.uid].state.value=v,Object.freeze(promises[this.uid].state),handlers=Array.isArray(this._onresolve)?[].concat(this._onresolve):[];handlers.length;)handlers.shift().call(null,v)}function reject(r,handlers){if(!resolved)for(resolved=!0,promises[this.uid].state.key=this.REJECTED,promises[this.uid].state.value=r,Object.freeze(promises[this.uid].state),handlers=Array.isArray(this._onreject)?[].concat(this._onreject):[];handlers.length;)handlers.shift().call(null,r)}if("function"!=typeof resolver)throw new TypeError("Constructor mbx.Promise requires a resolver function as argument 0.");resolved=!1,promises[this.uid]={promise:this,state:{key:this.PENDING,value:null}};try{resolver(resolve.bind(this),reject.bind(this))}catch(e){reject.call(this,e)}},then:{enumerable:!0,value:function(onresolve,onreject){return function(self,hasResolved,hasRejected){return hasResolved||hasRejected?hasResolved?new module.exports.Promise(function(resolve,reject,rv){try{rv="function"==typeof onresolve?onresolve(promises[self.uid].state.value):null}catch(e){return void reject(e)}rv&&"function"==typeof rv.then?rv.then(function(v){resolve(v)},function(r){reject(r)}):resolve(rv)}):hasRejected?new module.exports.Promise(function(resolve,reject,rv){try{rv="function"==typeof onreject?onreject(promises[self.uid].state.value):null}catch(e){return void reject(e)}rv&&"function"==typeof rv.then?rv.then(function(v){resolve(v)},function(r){reject(r)}):setTimeout(reject,4,rv)}):void 0:new module.exports.Promise(function(resolve,reject){!Array.isArray(self._onresolve)&&Object.defineProperty(self,"_onresolve",{value:[]}),!Array.isArray(self._onreject)&&Object.defineProperty(self,"_onreject",{value:[]}),self._onresolve.push(function(v,rv){try{rv=onresolve(v)}catch(e){return void reject(e)}rv&&"function"==typeof rv.then?rv.then(function(v){resolve(v)},function(r){reject(r)}):resolve(rv)}),self._onreject.push(function(r,rv){try{rv=onreject(r)}catch(e){return void reject(r)}rv&&"function"==typeof rv.then?rv.then(function(v){resolve(v)},function(r){reject(r)}):resolve(rv)})})}(this,promises[this.uid].state.key==this.RESOLVED,promises[this.uid].state.key==this.REJECTED)}},catch:{enumerable:!0,value:function(onreject){return function(self){return new module.exports.Promise(function(resolve,reject){self.then(resolve,function(r){return reject(r),onreject(r)})})}(this)}},PENDING:{enumerable:!0,get:function(){return module.exports.Promise.PENDING}},RESOLVED:{enumerable:!0,get:function(){return module.exports.Promise.RESOLVED}},REJECTED:{enumerable:!0,get:function(){return module.exports.Promise.REJECTED}},uid:{enumerable:!0,configurable:!0,get:function(){return this._uid||Object.defineProperty(this,"_uid",{value:UID.uid()})._uid}},state:{enumerable:!0,configurable:!0,get:function(){return promises[this.uid].state.key}}}})},{"./Iterator":1,"./UID":3,"./class":4,"./utils":5}],3:[function(require,module,exports){"use strict";var _=require("./utils"),klass=require("./class").class;module.exports.UID=klass(function(statics){var CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",MAP="Fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",RADIX=16,REGEXP=/[xy]/g,generators=Object.create(null);return Object.defineProperties(statics,{uid:{enumerable:!0,value:function(date){return date=Date.now(),MAP.replace(REGEXP,function(c,r){return r=(date+Math.random()*RADIX)%RADIX|0,"y"===c&&(r=3&r|8),CHARS[r]})}}}),{constructor:function(dict){dict=dict&&"object"==_.typeof(dict)?dict:{},generators[this.uid]={map:"string"==_.typeof(dict.map)?dict.map:MAP,radix:"number"==_.typeof(dict.radix)?dict.radix:RADIX,regexp:"regexp"==_.typeof(dict.regexp)?dict.regexp:REGEXP}},generate:{enumerable:!0,value:function(date){return date=Date.now(),this.map.replace(this.regexp,function(c,r){return r=(date+Math.random()*this.radix)%this.radix|0,"y"===c&&(r=3&r|8),CHARS[r]}.bind(this))}},map:{enumerable:!0,get:function(){return generators[this.uid].map}},radix:{enumerable:!0,get:function(){return generators[this.uid].radix}},regexp:{enumerable:!0,get:function(){return generators[this.uid].regexp}},uid:{enumerable:!0,configurable:!0,get:function(){return this._uid||Object.defineProperty(this,"_uid",{value:module.exports.UID.uid()})._uid}}}})},{"./class":4,"./utils":5}],4:[function(require,module,exports){"use strict";var _=require("./utils");module.exports.class=function(args,statics,Class,prototype,k){for(args=_.spread(arguments),statics=Object.create(null),prototype=Object.create({}),args[args.length-1]=function getDescriptors(descriptors,keys,i,l){if("function"==_.typeof(descriptors))return getDescriptors(descriptors.call(null,statics));for(descriptors.constructor=descriptors.hasOwnProperty("constructor")?descriptors.constructor:function(){},Class="function"!=_.typeof(descriptors.constructor)||_.native(descriptors.constructor)?"function"!=_.typeof(descriptors.constructor.value)||_.native(descriptors.constructor.value)?function(){}:descriptors.constructor.value:descriptors.constructor,delete descriptors.constructor,keys=Object.keys(descriptors);keys.length;)void function(key){descriptors[key]=descriptors[key].constructor==Object&&(descriptors[key].hasOwnProperty("value")||descriptors[key].hasOwnProperty("get")||descriptors[key].hasOwnProperty("set"))?descriptors[key]:{configurable:!0,enumerable:!0,writable:!0,value:descriptors[key]}}(keys.shift());return{prototype:Object.create(null,descriptors)}}(args[args.length-1]);args.length;)void function(Super,propertyNames){try{propertyNames=Object.getOwnPropertyNames(Super.prototype)}catch(e){propertyNames=[]}for(;propertyNames.length;)void function(property,descriptor){Object.defineProperty(prototype,property,descriptor)}(propertyNames[0],Object.getOwnPropertyDescriptor(Super.prototype,propertyNames.shift()))}(args.shift());return Object.defineProperty(prototype,"constructor",{value:Class,configurable:!0,enumerable:!0}),Class.prototype=prototype,void function(properties){for(;properties.length;)Object.defineProperty(Class,properties[0],Object.getOwnPropertyDescriptor(statics,properties.shift()))}(Object.getOwnPropertyNames(statics)),!Class.hasOwnProperty("create")&&Object.defineProperty(Class,"create",{enumerable:!0,value:function(args){function F(){return Class.apply(this,args)}return args=_.spread(arguments),F.prototype=Class.prototype,new F}}),!Class.hasOwnProperty("extend")&&Object.defineProperty(Class,"extend",{enumerable:!0,value:function(){return module.exports.class.apply(null,[Class].concat(_.spread(arguments)))}}),!Class.hasOwnProperty("isImplementedBy")&&Object.defineProperty(Class,"isImplementedBy",{enumerable:!0,value:function(o,prototype,keys,i,l){if(!o)return!1;if(prototype=o&&o.prototype?o.prototype:"function"==typeof o.constructor?o.constructor.prototype:null,o instanceof Class||Class.prototype===prototype)return!0;for(keys=Object.getOwnPropertyNames(Class.prototype),l=keys.length,i=0;i<l;i++)if("constructor"!=keys[i]&&function(o,c,err){return err=!o||!c,o&&(c.configurable?c.hasOwnProperty("value")&&typeof o.value!=typeof c.value&&(err=!0):(c.hasOwnProperty("value")&&o.value!==c.value&&(err=!0),c.hasOwnProperty("get")&&o.get!==c.get&&(err=!0),c.hasOwnProperty("set")&&o.set!==c.set&&(err=!0))),err}(Object.getOwnPropertyDescriptor(prototype,keys[i]),Object.getOwnPropertyDescriptor(Class.prototype,keys[i])))return!1;return!0}}),!Class.hasOwnProperty("implementsOn")&&Object.defineProperty(Class,"implementsOn",{enumerable:!0,value:function(o,prototype,properties){for(prototype="function"==_.typeof(o)?o.prototype:"object"==_.typeof(o)?o:function(){throw new TypeError}(),properties=Object.getOwnPropertyNames(Class.prototype);properties.length;)Object.defineProperty(prototype,properties[0],Object.getOwnPropertyDescriptor(Class.prototype,properties.shift()));Class.apply(prototype,_.spread(arguments,1))}}),Class},module.exports.singleton=function(F,G){return F=module.exports.class.apply(null,arguments),G=module.exports.class.call(null,F,function(statics,k){for(k in F)statics[k]=F[k];return{constructor:function(){return G.instance?G.instance:(G.instance=this,F.apply(this,arguments))}}})},module.exports.klass=module.exports.class},{"./utils":5}],5:[function(require,module,exports){"use strict";module.exports.native=function(rnative){var known_exceptions=["[object CSSMediaRule]"];return function(fn){try{return"function"==typeof fn?!!fn.toString().match(rnative):known_exceptions.indexOf(fn.toString())>-1}catch(e){return null}}}(/\s*\[native code\]\s*/i),module.exports.spread=function(slice){return function(o,i,l){return slice.call(o,i,l)}}(Array.prototype.slice),module.exports.typeof=function(toString){return function(o,ntypeof){return Array.isArray(o)?"array":(ntypeof=typeof o,"object"!=ntypeof?o===o?ntypeof:"NaN":o&&o.constructor&&!module.exports.native(o.constructor)?"instance":o&&"function"==typeof o.prototype?"function":toString.call(o).slice(8,-1).toLowerCase())}}(Object.prototype.toString),module.exports.typeOf=module.exports.typeof,module.exports.invoke=function(fn,ctx,args){switch(fn="function"==typeof fn?fn:function(){throw new TypeError("mbx.utils.invoke - function expected as argument 0")}(),ctx=arguments[1]||null,args=3==arguments.length&&Array.isArray(args)?args:module.exports.spread(arguments,2),args.length){case 0:return Function.prototype.call.call(fn,ctx);case 1:return Function.prototype.call.call(fn,ctx,args[0]);case 2:return Function.prototype.call.call(fn,ctx,args[0],args[1]);case 3:return Function.prototype.call.call(fn,ctx,args[0],args[1],args[2]);default:return Function.prototype.apply.call(fn,ctx,args)}}},{}],6:[function(require,module,exports){"use strict";var cancelAnimationFrame=requirejs("utils").cancelAnimationFrame,cssCompat=require("./stylesheet").getCompat,env=require("./environment"),klass=requirejs("utils").classMaker,requestAnimationFrame=requirejs("utils").requestAnimationFrame,stylesheet=require("./stylesheet").stylesheet,Model=requirejs("lib/Model"),NavPane=require("./NavPane").NavPane,MobileNavPane=require("./NavPane").MobileNavPane,Promise=jQuery.Deferred,Router=requirejs("lib/Router"),UID=requirejs("lib/UID"),Viewport=require("./SViewport").SViewport,ZView=requirejs("lib/ZenView"),ZParser=requirejs("lib/ZenView").ZenParser,KEY=require("./key").key,viewport=new Viewport,readyDFD=function(dfd){return cssCompat(function(){dfd.resolve()}),dfd}(new Promise);module.exports.MainNav=klass(env.mobile||"tablet"==env.device?MobileNavPane:NavPane,function(Super,statics){var _activeUid,mainNavs={};return statics.getActiveUid=function(){return _activeUid?""+_activeUid:null},statics.getByUid=NavPane.getByUid,{constructor:function(){Super.apply(this,arguments),mainNavs[this.uid()]={instance:this},void function(self){self.on(NavPane.SHOW_EVT,function(){_activeUid=self.uid()}),self.on(NavPane.HIDE_EVT,function(){_activeUid===self.uid()&&(_activeUid=null)})}(this)}}})},{"./NavPane":7,"./SViewport":14,"./environment":18,"./key":20,"./stylesheet":22}],7:[function(require,module,exports){"use strict";var cancelAnimationFrame=requirejs("utils").cancelAnimationFrame,cssCompat=require("./stylesheet").getCompat,env=require("./environment"),inArray=jQuery.inArray,klass=requirejs("utils").classMaker,requestAnimationFrame=requirejs("utils").requestAnimationFrame,spread=requirejs("utils").slice,stylesheet=require("./stylesheet").stylesheet,EventRouter=require("./SEventRouter").SEventRouter,Model=requirejs("lib/Model"),Promise=jQuery.Deferred,UID=requirejs("lib/UID"),Viewport=require("./SViewport").SViewport,ZView=requirejs("lib/ZenView"),ZParser=requirejs("lib/ZenView").ZenParser,CSS_TRANSITION_COMPAT=require("./stylesheet").CSS_TRANSITION_COMPAT,CSS_TRANSITION_PROPERTY=require("./stylesheet").CSS_TRANSITION_PROPERTY,CSS_TRANSITIONEND_EVENT=require("./stylesheet").CSS_TRANSITIONEND_EVENT,KEY=require("./key").key,bus=new EventRouter,viewport=new Viewport,readyDFD=function(dfd){return cssCompat(function(){requestAnimationFrame(function(){dfd.resolve()})}),dfd}(new Promise);module.exports.NavPane=klass(ZView,function(Super,statics){function std_transition(str,prop){return str.replace("transform",prop)}var navPanes={};return statics.DEFAULT_WIDTH=320,statics.SHOW_READYING_EVT="/navpane/showreadying",statics.SHOW_READY_EVT="/navpane/showready",statics.SHOW_EVT="/navpane/show",statics.SHOWN_EVT="/navpane/shown",statics.HIDE_EVT="/navpane/hide",statics.HIDDEN_EVT="/navpane/hidden",statics.HIDE_CLEANING_EVT="/navpane/hidecleaning",statics.HIDE_CLEANED_EVT="/navpane/hidecleaned",statics.getByUid=function(uid){return navPanes[uid]&&navPanes[uid].instance},cssCompat(function(compatTable){stylesheet.rule(".rlx-ui-pane--aside{ position:absolute; z-index:1999; top:0; }",".rlx-ui-pane--aside > .rlx-ui-pane-wrap{ position:relative; top:0; overflow:auto }",function(mainCSS,wrapCSS,closeCSS){bus.on(Viewport.CHANGE_EVT,function(next,vars,matrix){mainCSS.property({height:matrix.contentHeight()+"px"}),wrapCSS.property({height:matrix.height()+"px",top:matrix.N().y+"px"}),next()})})}),{constructor:function(dict,model){dict=dict&&dict.constructor===Object?dict:{},model=Model.isImplementedBy(model)?model:model&&model.constructor===Object?new Model(model):new Model,model.set({uid:UID.uid(),width:"number"==typeof dict.width?dict.width:"number"==typeof this._width?this._width:"string"==typeof dict.width?parseInt(dict.width,10):"string"==typeof this._width?parseInt(this._width,10):statics.DEFAULT_WIDTH,side:this.side()}),Super.call(this,model),void function(self){navPanes[self._model.get("uid")]={instance:self},dict.className&&(self.query("root").className+=" "+dict.className),cssCompat(function(compatTable){stylesheet.rule(self.cssSelector()+"{}",self.cssSelector()+" .rlx-ui-pane-wrap{}",function(mainCSS,wrapCSS,side,width){side=self.side(),mainCSS.property("width",self._model.get("width")+"px"),"left"==side&&RLX.isRTL?(wrapCSS.property("padding-left",env.scrollbarWidth+"px"),wrapCSS.property("margin-left",-env.scrollbarWidth+"px")):"left"==side?wrapCSS.property("padding-right",env.scrollbarWidth+"px"):(wrapCSS.property("padding-right",env.scrollbarWidth+"px"),wrapCSS.property("margin-right",-env.scrollbarWidth+"px")),mainCSS.property(CSS_TRANSITION_PROPERTY,std_transition(dict.transition?dict.transition:self.transition(),compatTable.transform)),mainCSS.property(compatTable.transform,env.desktop?"translate(0, 0)":"translate3d(0, 0, 0)"),wrapCSS.property("width",self._model.get("width")+"px"),wrapCSS.property(compatTable.overflowScrolling,"auto"),self.on(module.exports.NavPane.SHOW_READYING_EVT,function(auid){viewport.broadcast(),mainCSS.property("z-index",2e3),auid="function"==typeof self.constructor.getActiveUid?self.constructor.getActiveUid():null,auid&&auid!==self.uid()&&module.exports.NavPane.getByUid(auid).hide({replace:!0}),requestAnimationFrame(function(){self.trigger(module.exports.NavPane.SHOW_READY_EVT)})}),self.on(module.exports.NavPane.SHOW_EVT,function(){function onend(){clearTimeout(local_timer),self.query("root").removeEventListener(CSS_TRANSITIONEND_EVENT,onevent),self.trigger(module.exports.NavPane.SHOWN_EVT),wrapCSS.property(compatTable.overflowScrolling,"touch")}function onevent(e){e.target===self.query("root")&&onend()}var local_timer;"right"===side?mainCSS.property("right","-"+self.width()+"px"):mainCSS.property("left","-"+self.width()+"px"),requestAnimationFrame(function(){CSS_TRANSITION_COMPAT?(self.query("root").addEventListener(CSS_TRANSITIONEND_EVENT,onevent),local_timer=setTimeout(function(){},1e3)):setTimeout(onend,16),compatTable.transform?"left"===side?mainCSS.property(compatTable.transform,env.desktop?"translate("+self.width()+"px, 0)":"translate3d("+self.width()+"px, 0, 0)"):mainCSS.property(compatTable.transform,env.desktop?"translate("+-self.width()+"px, 0)":"translate3d("+-self.width()+"px, 0, 0)"):"right"===side?mainCSS.property("right","0px"):mainCSS.property("left","0px")})}),self.on(module.exports.NavPane.HIDE_EVT,function(){function onend(){clearTimeout(local_timer),self.query("root").removeEventListener(CSS_TRANSITIONEND_EVENT,onevent),self.trigger(module.exports.NavPane.HIDDEN_EVT)}function onevent(e){e.target===self.query("root")&&onend()}var local_timer;requestAnimationFrame(function(){CSS_TRANSITION_COMPAT?(self.query("root").addEventListener(CSS_TRANSITIONEND_EVENT,onevent),local_timer=setTimeout(function(){onend()},1e3)):setTimeout(onend,16),compatTable.transform?mainCSS.property(compatTable.transform,env.desktop?"translate(0, 0)":"translate3d(0, 0, 0)"):(mainCSS.property("z-index",1999),"right"===side?mainCSS.property("right","-"+self.width()+"px"):mainCSS.property("left","-"+self.width()+"px"))})}),self.on(module.exports.NavPane.HIDE_CLEANING_EVT,function(){self.recover(),self.trigger(module.exports.NavPane.HIDE_CLEANED_EVT)})})}),bus.on(Viewport.GLOBAL_UNLOCK_EVT,function(next,vars){self.hide(),next()})}(this)},_template:"div#$uid.rlx-ui-component.rlx-ui-pane.rlx-ui-pane--aside.rlx-ui-pane--$side > (div.rlx-ui-pane-wrap.rlx-ui-scroll-component@wrap@content)",_transition:"left 325ms ease-in, right 325ms ease-in, transform 325ms ease-in",_parent:document.querySelector(".rlx-global"),transition:function(){return this._transition},_side:RLX.isRTL?"right":"left",side:function(){return this._side},uid:function(){return this._model.get("uid")},width:function(){return this._model.get("width")},_overlay:!0,overlay:function(){return this._overlay},cssSelector:function(){return["#",this.uid()].join("")},show:function(dict,cb,args){return args=spread(arguments),cb="function"==typeof args[args.length-1]?args.pop():Function.prototype,dict=args[args.length-1]&&args[args.length-1].constructor===Object?args.pop():{},function(self){function onshown(){self.off(module.exports.NavPane.SHOWN_EVT,onshown),cb.call(self)}function onready(){self.off(module.exports.NavPane.SHOW_READY_EVT,onready),requestAnimationFrame(function(){self._parent&&self._parent.insertBefore(self.borrow(),self._parent.childNodes[0]),self.on(module.exports.NavPane.SHOWN_EVT,onshown),self.trigger(module.exports.NavPane.SHOW_EVT)})}return readyDFD.then(function(){self.on(module.exports.NavPane.SHOW_READY_EVT,onready),bus.trigger(Viewport.LOCK_EVT,KEY,self),self.trigger(module.exports.NavPane.SHOW_READYING_EVT)})}(this)},hide:function(dict,cb,args){if(args=spread(arguments),cb="function"==typeof args[args.length-1]?args.pop():Function.prototype,dict=args[args.length-1]&&args[args.length-1].constructor===Object?args.pop():{},!this._fragment.childNodes.length)return function(self){function onclean(){self.off(module.exports.NavPane.HIDE_CLEANED_EVT,onclean),bus.trigger(Viewport.UNLOCK_EVT,KEY,self,dict),cb.call(self)}function onhide(){self.off(module.exports.NavPane.HIDDEN_EVT,onhide),self.on(module.exports.NavPane.HIDE_CLEANED_EVT,onclean),self.trigger(module.exports.NavPane.HIDE_CLEANING_EVT)}return readyDFD.then(function(){self.on(module.exports.NavPane.HIDDEN_EVT,onhide),self.trigger(module.exports.NavPane.HIDE_EVT)})}(this)}}}),module.exports.MobileNavPane=klass(module.exports.NavPane,function(Super,statics,navPanes){return navPanes={},statics.DEFAULT_WIDTH=320,statics.SHOW_READYING_EVT="/navpane/showreadying",statics.SHOW_READY_EVT="/navpane/showready",statics.SHOW_EVT="/navpane/show",statics.SHOWN_EVT="/navpane/shown",statics.HIDE_EVT="/navpane/hide",statics.HIDDEN_EVT="/navpane/hidden",statics.HIDE_CLEANING_EVT="/navpane/hidecleaning",statics.HIDE_CLEANED_EVT="/navpane/hidecleaned",statics.getByUid=function(uid){return navPanes[uid]&&navPanes[uid].instance},cssCompat(function(compatTable){stylesheet.rule(".rlx-ui-pane-mobile--aside{ position:fixed; height: 100%; z-index:1999; top:0; }",".rlx-ui-pane-mobile--aside > .rlx-ui-pane-wrap{ position:relative; height:100%; top:0; overflow-y:auto; overflow-x:hidden; }")}),{constructor:function(dict,model){Super.apply(this,arguments)},_template:"div#$uid.rlx-ui-component.rlx-ui-pane.rlx-ui-pane-mobile--aside.rlx-ui-pane--$side > (div.rlx-ui-pane-wrap.rlx-ui-scroll-component@wrap@content)",_parent:document.querySelector(".rlx-global")}})},{"./SEventRouter":9,"./SViewport":14,"./environment":18,"./key":20,"./stylesheet":22}],8:[function(require,module,exports){"use strict";var SubPane=require("./SubPane").SubPane,SSiteNav=require("./SSiteNav").SSiteNav,ClientRect=requirejs("lib/ClientRect"),env=require("./environment"),cssCompat=require("./stylesheet").getCompat,stylesheet=require("./stylesheet").stylesheet,requestAnimationFrame=requirejs("utils").requestAnimationFrame,CSS_TRANSITION_COMPAT=require("./stylesheet").CSS_TRANSITION_COMPAT,CSS_TRANSITION_PROPERTY=require("./stylesheet").CSS_TRANSITION_PROPERTY,CSS_TRANSITIONEND_EVENT=require("./stylesheet").CSS_TRANSITIONEND_EVENT,KEY=require("./key").key,siteNav=new SSiteNav;module.exports.NavSubPane=SubPane.extend(function(Super,statics){return{constructor:function(){SubPane.apply(this,arguments),void function(self){cssCompat(function(compatTable,prop){stylesheet.rule(".rlx-ui-pane--sub--nav{overflow:hidden;}",".rlx-ui-pane--sub--nav .rlx-ui-pane-wrap{overflow-y:scroll;overflow-x:hidden;}","#"+self.uid()+" .rlx-ui-pane__arrow-down{ opacity:0; }",function(mainCSS,wrapCSS,arrowCSS){wrapCSS.property("margin-"+("left"==self.side()?"right":"left"),-env.scrollbarWidth+"px"),wrapCSS.property("padding-"+self.side(),siteNav._nav.width()+"px"),self.on(SubPane.SHOWN_EVT,function(e){requestAnimationFrame(function(){new ClientRect(self.query("content")).compute(function(matrix){var posarrow,onscroll;matrix.contentHeight<=RLX.GLOBALS.screenHeight||(arrowCSS.property("opacity","1"),arrowCSS.property("transition","opacity .5s ease-in"),posarrow=function(){new ClientRect(self.query("wrap")).compute(function(matrix){self.query("down").style.top="calc(100vh - 90px + "+matrix.top()+"px)"})},env.desktop&&!env.tablet&&requestAnimationFrame(function(){posarrow()}),onscroll=function(){self.query("down").style.opacity=""+(1-jQuery(".rlx-ui-scroll-component").scrollTop()/60),self.query("down").style.transition="none",self.query("down").style.WebkitTransition="none",self.$query("wrap").scrollTop()+self.$query("wrap").innerHeight()>=self.$query("wrap")[0].scrollHeight&&(self.query("down").style.transition="opacity .2s ease-in",self.query("down").style.WebkitTransition="opacity .2s ease-in",self.query("down").style.opacity=0)},env.desktop&&!env.tablet&&window.addEventListener("rezise",posarrow),window.addEventListener("scroll",onscroll,!0),self.on(SubPane.HIDDEN_EVT,function(e){arrowCSS.property("opacity","0"),window.removeEventListener("rezise",posarrow),window.removeEventListener("scroll",onscroll)}))})})})})})}(this)},_template:"div#$uid.rlx-ui-component.rlx-ui-pane.rlx-ui-pane--sub.rlx-ui-pane--$side.rlx-ui-pane--sub--nav > div.rlx-ui-pane-wrap.rlx-ui-scroll-component@wrap > div@content > span.rlx-ui-pane__close@close{close} + span.rlx-ui-pane__arrow-down@down",_transition:"left 225ms ease-in, right 225ms ease-in, transform 450ms ease-in-out"}})},{"./SSiteNav":12,"./SubPane":17,"./environment":18,"./key":20,"./stylesheet":22}],9:[function(require,module,exports){"use strict";var env=require("./environment"),singleton=requirejs("utils").singleton,spread=requirejs("utils").slice,SEventRouter=requirejs("lib/SEventRouter").SEventRouter,Router=requirejs("lib/Router");module.exports.SEventRouter=SEventRouter,module.exports.eventRouter=new SEventRouter,env.debugJS&&module.exports.eventRouter.debug()},{"./environment":18}],10:[function(require,module,exports){"use strict";function std_transition(str,prop){return str.replace("transform",prop)}var stylesheet,CSS_TRANSITION_COMPAT,CSS_TRANSITION_PROPERTY,CSS_TRANSITIONEND_EVENT,body,bus,viewport,readyDFD,cssCompat=require("./stylesheet").getCompat,env=require("./environment"),klass=requirejs("utils").classMaker,singleton=requirejs("utils").singleton,true_=requirejs("utils"),rAF=true_.requestAnimationFrame,_=requirejs("require/hbs/underscore"),EventRouter=require("./SEventRouter").SEventRouter,Promise=jQuery.Deferred,View=requirejs("./lib/View"),Viewport=require("./SViewport").SViewport,MainScrollTrunk=require("./mainScrollTrunk").mainScrollTrunk,NavPane=require("./NavPane").NavPane,SSiteNav=require("./SSiteNav").SSiteNav,sitenav=new SSiteNav,KEY=require("./key").key,AEL_COMPAT="function"==typeof window.addEventListener;cssCompat=require("./stylesheet").getCompat,stylesheet=require("./stylesheet").stylesheet,CSS_TRANSITION_COMPAT=require("./stylesheet").CSS_TRANSITION_COMPAT,CSS_TRANSITION_PROPERTY=require("./stylesheet").CSS_TRANSITION_PROPERTY,CSS_TRANSITIONEND_EVENT=require("./stylesheet").CSS_TRANSITIONEND_EVENT,body=RLX.GLOBALS.DOM.jBody,bus=new EventRouter,viewport=new Viewport,readyDFD=function(dfd){return cssCompat(function(){requestAnimationFrame(function(){dfd.resolve()})}),dfd}(new Promise),module.exports.SHeader=klass(View,function(Super,statics){return statics.HEADER_SHOW_EVT="/ui/header/show",statics.HEADER_SHOWN_EVT="/ui/header/visible",statics.HEADER_HIDE_EVT="/ui/header/hide",statics.HEADER_HIDDEN_EVT="/ui/header/hidden",statics.HEADER_COLLAPSE_EVT="/ui/header/collapse",statics.HEADER_UNCOLLAPSE_EVT="/ui/header/uncollapse",statics.OPEN_MAIN_NAV_EVT="/ui/main/sitenav",{constructor:function(loc,jr){jr=jQuery(".rlx-stickyWrapper"),Super.call(this,{root:jr[0],template:jr[0]}),env.desktop&&void function(self,HeaderScroll,IS_COLLAPSED){HeaderScroll=MainScrollTrunk.register({start:jr,offsetStopY:20}),IS_COLLAPSED=!1,window.pageYOffset>0&&(body[0].classList.add("rlx-header-collapsed"),IS_COLLAPSED=!0),HeaderScroll.on("scroll",function(scrollTop,direction){!IS_COLLAPSED&&scrollTop>15&&direction>0?(body[0].classList.add("rlx-header-collapsed"),IS_COLLAPSED=!0):IS_COLLAPSED&&direction<0&&(body[0].classList.remove("rlx-header-collapsed"),IS_COLLAPSED=!1)})}(this),void function(self){self._model.set("hide",!1),cssCompat(function(compatTable){stylesheet.rule(".rlx-sticky-header__inner{}",".rlx-stickyWrapper .rlx-breadcrumb{}",function(main,breadcrumb){main.property(CSS_TRANSITION_PROPERTY,std_transition(".2s transform ease-in-out",compatTable.transform)),bus.on(module.exports.SHeader.HEADER_SHOW_EVT,function onshow(next){function ontransendevent(e){e.target===self.realheader&&onend()}function onend(){self.root.removeEventListener(CSS_TRANSITIONEND_EVENT,ontransendevent),bus.trigger(module.exports.SHeader.HEADER_SHOWN_EVT)}env.desktop?rAF(function(){CSS_TRANSITION_COMPAT?self.root.addEventListener(CSS_TRANSITIONEND_EVENT,ontransendevent):setTimeout(onend,416),main.property(compatTable.transform,std_transition("translate3D(0,0,0)",compatTable.transform)),breadcrumb.property(compatTable.transform,std_transition("translate3D(0,0,0)",compatTable.transform))}):onend(),next()}),bus.on(module.exports.SHeader.HEADER_HIDE_EVT,function onshow(next){function ontransendevent(e){e.target===self.realheader&&onend()}function onend(){self.root.removeEventListener(CSS_TRANSITIONEND_EVENT,ontransendevent),bus.trigger(module.exports.SHeader.HEADER_HIDDEN_EVT)}env.desktop?rAF(function(){CSS_TRANSITION_COMPAT?self.root.addEventListener(CSS_TRANSITIONEND_EVENT,ontransendevent):setTimeout(onend,416),main.property(compatTable.transform,std_transition("translate3D(0,-100%,0)",compatTable.transform)),breadcrumb.property(compatTable.transform,std_transition("translate3D(0,-100%,0)",compatTable.transform));
}):onend(),next()}),bus.on(module.exports.SHeader.HEADER_COLLAPSE_EVT,function oncollapse(next){env.mobile||next()}),bus.on(module.exports.SHeader.HEADER_UNCOLLAPSE_EVT,function oncollapse(next){env.mobile||next()})})}),self.on("bind",function(){self._nav=this.$root.find(".rlx-site-nav__openMenu"),self._nav.on("click",function(e){e.preventDefault(),self.hide(function(){bus.trigger(module.exports.SHeader.OPEN_MAIN_NAV_EVT),sitenav.on(NavPane.HIDDEN_EVT,function onnavclose(){sitenav.off(NavPane.HIDDEN_EVT,onnavclose),setTimeout(function(){self.show()},500)})})}),self.realheader=self.root.querySelector(".rlx-sticky-header__inner")}),self.render()}(this)},show:function(lel){this._model.set("hide",!1),bus.on(module.exports.SHeader.HEADER_SHOWN_EVT,function onshow(next){bus.off(module.exports.SHeader.HEADER_SHOWN_EVT,onshow),"function"==typeof lel&&lel(),next()}),bus.trigger(module.exports.SHeader.HEADER_SHOW_EVT)},hide:function(lel){this._model.set("hide",!0),bus.on(module.exports.SHeader.HEADER_HIDDEN_EVT,function onhide(next){bus.off(module.exports.SHeader.HEADER_HIDDEN_EVT,onhide),"function"==typeof lel&&lel(),next()}),bus.trigger(module.exports.SHeader.HEADER_HIDE_EVT)}}}),module.exports.header=new module.exports.SHeader},{"./NavPane":7,"./SEventRouter":9,"./SSiteNav":12,"./SViewport":14,"./environment":18,"./key":20,"./mainScrollTrunk":21,"./stylesheet":22}],11:[function(require,module,exports){"use strict";var singleton=requirejs("utils").singleton,EventRouter=require("./SEventRouter").SEventRouter,NavSubPane=require("./NavSubPane").NavSubPane,bus=new EventRouter;module.exports.SSearchResultsSub=singleton(NavSubPane,function(Super,statics){return{constructor:function(){Super.apply(this,arguments),void function(self){function onnavchange(next){self.hide(),next()}bus.on("/ui/search/close",function(next){self.hide(),next()}),self.on("/subpane/shown",function(){bus.on("/ui/nav/*",onnavchange)})}(this)},_onclosehandler:function(){bus.trigger("/ui/search/close")}}})},{"./NavSubPane":8,"./SEventRouter":9}],12:[function(require,module,exports){"use strict";function formatOptions(opts){return"undefined"!=typeof opts.className?opts.className=" "+opts.className:opts.className="",opts}function std_transition(str,prop){return str.replace("transform",prop)}var navigationEl,CSS_TRANSITION_COMPAT,CSS_TRANSITION_PROPERTY,CSS_TRANSITIONEND_EVENT,NavItemZView,SimpleButton,BackButton,CloseButton,NavSectionZView,NavZView,LevelZView,NavOverlayZView,SNavContainer,SSiteNav,_=requirejs("utils"),i18n=requirejs("i18n"),rAF=_.requestAnimationFrame,Promise=require("mbx/src/Promise").Promise,singleton=_.singleton,EventRouter=require("./SEventRouter").SEventRouter,NavPane=require("./NavPane").NavPane,SubPane=require("./SubPane").SubPane,MainNav=require("./MainNav").MainNav,ZView=requirejs("lib/ZenView"),env=require("./environment"),locales={nav:{back:i18n("website/navigation/back-to-main-menu"),close:i18n("website/navigation/close-menu")}},extend=function(args){return args=Array.prototype.slice.call(arguments),args.unshift({}),jQuery.extend.apply(jQuery,args)},UID=requirejs("lib/UID"),cssCompat=require("./stylesheet").getCompat,stylesheet=require("./stylesheet").stylesheet,bus=new EventRouter,events=EventRouter.events;SubPane=require("./SubPane").SubPane,navigationEl=document.getElementById("rlx-navigation"),CSS_TRANSITION_COMPAT=require("./stylesheet").CSS_TRANSITION_COMPAT,CSS_TRANSITION_PROPERTY=require("./stylesheet").CSS_TRANSITION_PROPERTY,CSS_TRANSITIONEND_EVENT=require("./stylesheet").CSS_TRANSITIONEND_EVENT,NavItemZView=module.exports.NavItemZView=ZView.extend(function(Super,statics){var items={};return statics.getByUid=function(uid){return items[uid]&&items[uid].instance},statics.getActiveUids=function(uid){uid=[];for(var k in items)items.hasOwnProperty(k)&&void function(item,id){item._model.get("active")&&uid.push(id)}(NavItemZView.getByUid(k),k);return uid},statics.getActiveUid=function(uid){uid=null;for(var k in items)items.hasOwnProperty(k)&&void function(item,id){item._model.get("active")&&(uid=id)}(NavItemZView.getByUid(k),k);return uid},statics._ACTIVE_CLASSNAME=" rlx-nav__list-item--active",{constructor:function(dict){function preventAndFollow(e,cb){e.preventDefault(),cb()}dict=dict&&dict.constructor===Object?dict:{},"undefined"==typeof dict.className&&(dict.className=""),arguments[0]=dict,Super.apply(this,arguments),void function(self){items[self.uid()]={instance:self},dict.active?self.enable():self.disable(),self._model.on("change",function(k,v){switch(k){case"active":v?self.enable():self.disable()}}),bus.on("/ui/nav/reset",function(){self._model.set("active",0)}),self.root().addEventListener("click",self._anchorhandler=function(e){return self._model.get("active")?(e.preventDefault(),e.stopPropagation()):void("_blank"!==self._model.get("target")&&(self._model.get("follow")||(self._model.set("active",1),self._model.get("route")&&preventAndFollow(e,function(target,routeArr){routeArr=self._model.get("route").split(","),routeArr.forEach(function(item){bus.trigger(item)})}),self.trigger("click",[e]))))}),self._model.get("active")||self._model.set("active",!1);for(var k in dict)dict.hasOwnProperty(k)&&~k.search("data-")&&void function(attr,value){self.root().setAttribute(attr,value)}(k,dict[k]);"undefined"!=typeof dict.target&&self.query("anchor").setAttribute("target",dict.target),"undefined"!=typeof dict.lang&&self.query("anchor").setAttribute("lang",dict.lang)}(this)},_template:"li.rlx-nav__list-item.$className>a.rlx-nav__list-anchor@anchor[href=$href]{$text}",uid:function(){return this._model.get("uid")||(this._model.set("uid",UID.uid()),this._model.get("uid"))},enable:function(){rAF(function(){this.root().className+=NavItemZView._ACTIVE_CLASSNAME}.bind(this))},disable:function(){rAF(function(){this.root().className=this.root().className.replace(NavItemZView._ACTIVE_CLASSNAME,"")}.bind(this))},kill:function(){this.recover(),this.root().removeEventListener("click",this._anchorhandler),delete items[this.uid()]}}}),SimpleButton=module.exports.SimpleButton=ZView.extend(function(Super,statics){var buttons={};return statics.getByUid=function(uid){return items[uid]&&items[uid].instance},{constructor:function(){Super.apply(this,arguments),buttons[this.uid()]={instance:this},this.root().addEventListener("click",this._anchorhandler=function(e){this.trigger("click")}.bind(this))},_template:"button.$className{$text}",uid:function(){return this._model.get("uid")||(this._model.set("uid",UID.uid()),this._model.get("uid"))},kill:function(){this.root().removeEventListener("click",this._anchorhandler),this.recover(),delete buttons[this.uid()]}}}),BackButton=module.exports.BackButton=ZView.extend(SimpleButton,function(Super,statics){return{constructor:function(){SimpleButton.apply(this,arguments),this._model.set("className","rlx-nav__back"),this.on("click",function(){bus.trigger("/ui/nav/back")})}}}),CloseButton=module.exports.CloseButton=ZView.extend(SimpleButton,function(Super,statics){return{constructor:function(){SimpleButton.apply(this,arguments),this._model.set("className","rlx-nav__close"),this.on("click",function(){bus.trigger("/ui/nav/close")})}}}),NavSectionZView=module.exports.NavSectionZView=ZView.extend(function(Super,statics){var sections={};return statics.getByUid=function(uid){return sections[uid]&&sections[uid].instance},{constructor:function(dict){Super.apply(this,arguments),this.subviews=[],"string"==typeof dict.title&&dict.title||this.$query("title").hide(),sections[this.uid()]={instance:this},this.query("title").addEventListener("click",function(item){item=NavItemZView.getByUid(this.subviews[0]),item&&item.query("anchor").click()}.bind(this))},_template:"li.rlx-nav__section$className>h1.rlx-nav__section-title@title{$title}+ul.rlx-nav__section-list@list",uid:function(){return this._model.get("uid")||(this._model.set("uid",UID.uid()),this._model.get("uid"))},add:function(view){void function(self){function setActive(){self._model.set("active-item",view.uid())}self.subviews.push(view.uid()),self.query("list").appendChild(view.borrow()),view._model.on("change",function(k,v){"active"==k&&v&&setActive()}),view._model.get("active")&&setActive()}(this)},kill:function(){this.trigger("kill"),this.recover(),this.subviews.forEach(function(uid,item){item=NavItemZView.getByUid(uid),NavItemZView.isImplementedBy(item)&&item.kill()}),delete sections[this.uid()]}}}),NavZView=module.exports.NavZView=ZView.extend(function(Super,statics){var subnavs={};return statics._CLASSES={active:" rlx-nav__sub--active",instant:" rlx-nav__sub--instant"},cssCompat(function(compatTable){stylesheet.rule(".rlx-nav__sub{position:absolute;top:0px;left:0;width: 100%;opacity:0;z-index:0;}",".rlx-nav__sub--active{opacity:1;z-index:1;}",".rlx-nav__sub--instant{}",function(main,active,instant){main.property(CSS_TRANSITION_PROPERTY,std_transition(".4s opacity ease-in-out",compatTable.transform)),instant.property(CSS_TRANSITION_PROPERTY,std_transition("none",compatTable.transform))})}),statics.getByUid=function(uid){return subnavs[uid]&&subnavs[uid].instance},{constructor:function(loc){Super.apply(this,arguments),this.sections=[],this.active=!1,"string"==typeof loc.title&&loc.title.length||this.$query("title").hide(),subnavs[this.uid()]={instance:this}},_template:".rlx-nav__sub$className#$uid>div@before+p.rlx-nav__sub-title@title{$title}+ul.rlx-nav__sub-list@sections+div@content",uid:function(){return this._model.get("uid")||(this._model.set("uid",UID.uid()),this._model.get("uid"))},add:function(section){void function(self){function setActive(v){"undefined"!=typeof self._model.get("active-item")&&NavItemZView.getByUid(self._model.get("active-item"))._model.set("active",0),self._model.set("active-item",section._model.get("active-item"))}self.sections.push(section.uid()),self.query("sections").appendChild(section.borrow()),section._model.on("change",function(k,v){"active-item"==k&&v&&setActive(v)}),section._model.get("active-item")&&setActive(section._model.get("active-item"))}(this)},show:function(instant){var p=new jQuery.Deferred;return void function(self){function ontransend(e){e.target===self.root()&&onend()}function onend(e){self.root().removeEventListener(CSS_TRANSITIONEND_EVENT,ontransend),p.resolve()}return p.then(function(){self.active=!0}),self.active?p.resolve():instant?void function(){self.root().className+=NavZView._CLASSES.instant,rAF(function(){self.root().className+=NavZView._CLASSES.active,rAF(function(){self.root().className=self.root().className.replace(NavZView._CLASSES.instant,""),p.resolve()})})}():(self.root().addEventListener(CSS_TRANSITIONEND_EVENT,ontransend),void(self.root().className+=NavZView._CLASSES.active))}(this),p},hide:function(){var p=new jQuery.Deferred;return~this.root().className.search(NavZView._CLASSES.instant)&&(this.root().className=NavZView._CLASSES.instant.replace(NavZView._CLASSES.instant,"")),void function(self){function ontransend(e){e.target===self.root()&&onend()}function onend(e){self.root().removeEventListener(CSS_TRANSITIONEND_EVENT,ontransend),p.resolve()}p.then(function(){self.active=!1}),self.root().addEventListener(CSS_TRANSITIONEND_EVENT,ontransend),rAF(function(){self.root().className=self.root().className.replace(NavZView._CLASSES.active,"")})}(this),p},kill:function(){this.trigger("kill"),this.recover(),this.sections.forEach(function(uid,item){item=NavSectionZView.getByUid(uid),NavSectionZView.isImplementedBy(item)&&item.kill()}),delete subnavs[this.uid()]}}}),LevelZView=module.exports.LevelZView=ZView.extend(function(Super,statics){var levels={};return statics._CLASSES={main:"rlx-nav__level",active:"rlx-nav__level--active"},cssCompat(function(compatTable){stylesheet.rule("."+statics._CLASSES.main+"{position:absolute;height:100%;}")}),statics.getByUid=function(uid){return levels[uid]&&levels[uid].instance},{constructor:function(){Super.apply(this,arguments),cssCompat(function(cT,property){property="#"+this.uid()+"{width:"+this._model.get("width")+"px;$side:"+((this._model.get("level")||0)*this._model.get("width")+env.scrollbarWidth)+"px}",stylesheet.rule(property.replace("$side","left"==this._model.get("side")?"right":"left"))}.bind(this)),levels[this.uid()]={instance:this},this.navs={length:0}},_template:"."+statics._CLASSES.main+"#$uid",uid:function(){return this._model.get("uid")||(this._model.set("uid",UID.uid()),this._model.get("uid"))},add:function(nav){this.navs[nav._model.get("ref")]=nav.uid(),this.navs.length+=1,this.root().appendChild(nav.borrow())},show:function(ref,instant){return"undefined"!=typeof this._active&&this._active!=ref&&void function(old){"undefined"!=typeof old&&old.hide()}(NavZView.getByUid(this.navs[this._active])),NavZView.getByUid(this.navs[ref]).show(!!instant).then(function(){this._active=ref}.bind(this))},remove:function(uid,cp){cp=[].concat(this.navs),cp.splice(cp.indexOf(uid),1),this.navs=cp,this.navs.length-=1},kill:function(){for(var uid in this.navs)this.navs.hasOwnProperty(uid)&&void function(nav){"object"==typeof nav&&nav.kill()}(NavZView.getByUid(uid));delete levels[this.udi()]}}}),NavOverlayZView=module.exports.NavOverlayZView=ZView.extend(function(Super,statics){var overlays={};return statics.getByUid=function(uid){return overlays[uid]&&overlays[uid].instance},statics._DISABLED_CLASSNAME=" rlx-nav__overlay--disabled",cssCompat(function(compatTable){stylesheet.rule(".rlx-nav__overlay{background:white;opacity:.5; position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;}",".rlx-nav__overlay--disabled{opacity:0;}",function(main){main.property(CSS_TRANSITION_PROPERTY,std_transition("400ms opacity",compatTable.transform))})}),{constructor:function(){Super.apply(this,arguments),overlays[this.uid()]={instance:this},this.root().className=this.root().className.replace(module.exports.NavOverlayZView._DISABLED_CLASSNAME,"")},_template:".rlx-nav__overlay.rlx-nav__overlay--disabled",uid:function(){return this._model.get("uid")||(this._model.set("uid",UID.uid()),this._model.get("uid"))},kill:function(){this.root().className+=module.exports.NavOverlayZView._DISABLED_CLASSNAME,setTimeout(function(){this.recover(),delete overlays[this.uid()]}.bind(this),500)}}}),SNavContainer=module.exports.SNavContainer=singleton(ZView,function(Super,statics){return statics._CLASSES={disabled:" rlx-nav__container--disabled"},statics._SWAP_EVENT="nav/container/swap",statics._BEFORE_SWAP_EVENT="nav/container/before-swap",statics._SLIDE_EVENT="nav/container/slide",statics._ADJUST_EVENT="nav/container/adjust",statics.makeNav=function(self,navigationEl,navLevels){navLevels=[].slice.call(navigationEl.querySelectorAll(".nav-level")),navLevels.forEach(function(element,i,navItemElements,nav,level,options){navItemElements=[].slice.call(element.querySelectorAll(".nav-item")),options=formatOptions(_.unserialize(element.getAttribute("data-nav-options"))),"undefined"==typeof self.levels[options.level||0]&&self.add(new LevelZView(extend(locales.nav.level,{width:self.width(),side:self.side(),level:options.level||0}))),level=LevelZView.getByUid(self.levels[options.level]),nav=new NavZView(extend(locales.nav.sub,options)),"undefined"!=typeof options.inject&&nav.$query("content").append(jQuery(options.inject).clone(!0)),"string"==typeof options.kref&&(self.krefs[options.kref]=nav.uid()),level.add(nav),level._model.get("level")>0?void function(backButton){backButton=new BackButton(extend({text:locales.nav.back})),nav._button=backButton,nav.query("before").appendChild(backButton.borrow()),nav.on("kill",function navkill(){nav.off("kill",navkill),backButton.kill()})}():void function(closeButton){closeButton=new CloseButton(extend({text:locales.nav.close})),nav._button=closeButton,nav.query("before").appendChild(closeButton.borrow()),nav.on("kill",function navkill(){nav.off("kill",navkill),closeButton.kill()})}(),navItemElements.forEach(function(element,item,loc,options,anchors,section){if(options=formatOptions(_.unserialize(element.getAttribute("data-nav-options"))),"undefined"==typeof nav.sections[options.section]&&nav.add(new NavSectionZView(extend(locales.nav.sections,options))),section=NavSectionZView.getByUid(nav.sections[options.section]),"undefined"==typeof section)throw new Error("Nav / section "+options.section+" doesn't exist in nav view / node: "+element);anchors=[].slice.call(element.querySelectorAll("a")),anchors.forEach(function(element){loc=formatOptions(_.unserialize(element.getAttribute("data-locales")||{})),loc.text=element.textContent||element.innerText,loc.id=element.getAttribute("id"),[].slice.call(element.attributes).forEach(function(attribute){loc[attribute.name]=attribute.value}),delete loc["data-locales"],item=new NavItemZView(extend(locales.nav.item,loc)),section.add(item)})})})},{constructor:function(){Super.apply(this,arguments),void function(self){self.krefs={},self.levels={length:0},self._model.set("uid",self.uid()),self.ready=new Promise(function(resolve){cssCompat(function(compatTable,mainProp){mainProp="#"+self.uid()+"{position:absolute;$side:0;top:0;overflow:hidden;margin-$side:-"+env.scrollbarWidth+"px}",mainProp=mainProp.replace(/(\$side)/g,"left"==self.side()?"right":"left"),stylesheet.rule(mainProp,function(main){main.property(CSS_TRANSITION_PROPERTY,std_transition("200ms transform ease-in-out, 200ms right ease-in-out, 200ms opacity",compatTable.transform)),main.property(compatTable.transform,"translate3d(0, 0, 0)"),self.on(SNavContainer._ADJUST_EVENT,function(w){main.property("width",w+"px")}),self.on(SNavContainer._SLIDE_EVENT,function(w){compatTable.transform?main.property(compatTable.transform,std_transition("translate3d("+w+"px, 0, 0)",compatTable.transform)):main.property(right,-1*w+"px")}),resolve()})})}),self._active=0,self._firstopening=!0,navigationEl&&statics.makeNav(self,navigationEl),bus.on("/ui/nav/back",function(next,vars,ref){ref=self._active-1>0?LevelZView.getByUid(self.levels[self._active])._active||0:0,bus.trigger("/ui/nav/"+(self._active-1)+"/"+ref),next()}),bus.on("/ui/nav/:level/:ref",function(next,vars){"undefined"!=typeof vars.ref&&"back"!=vars.ref&&self.swap(+vars.level,+vars.ref)}),self._model.on("change",function(k,v){switch(k){case"active":v||self.disable()}}),self.on(SNavContainer._SWAP_EVENT,function(){self.calculateHeight()})}(this)},_template:"nav.rlx-nav__container#$uid",uid:function(){return this._model.get("uid")||(this._model.set("uid",UID.uid()),this._model.get("uid"))},disable:function(){},add:function(level){"undefined"!=typeof this.levels[level._model.get("level")]&&this.remove(level._model.get("level")),this.levels[level._model.get("level")]=level.uid(),this.levels.length+=1,this.root().appendChild(level.borrow()),this.ready.then(function(){this.trigger(SNavContainer._ADJUST_EVENT,[this.width()+this.levels.length*this.width()])}.bind(this))},remove:function(uid,level){level=LevelZView.getByUid("uid"),"undefined"!=typeof level&&void function(self,levelID){levelID=self.levels[level._model.get("level")],level.kill(),delete self.levels[levelID],self.levels.length-=1}(this)},kill:function(){this.trigger("kill"),this.recover();for(var level in this.navs)this.navs.hasOwnProperty(level)&&void function(self){for(var ref in level)level.hasOwnProperty(ref)&&self.remove(level[ref])}(this)},getRef:function(kref){return NavZView.getByUid(this.krefs[kref])},swap:function(level,ref,levelView,active){return level=level||0,ref=ref||0,void function(self){function firstPlot(){self.trigger(SNavContainer._BEFORE_SWAP_EVENT,[levelView.navs[levelView._active]]),self._firstopening=!1,levelView.show(ref,1).then(function(active){self.trigger(SNavContainer._SWAP_EVENT,[levelView.navs[levelView._active]])})}function waitFor(timer){return function(){var p=new jQuery.Deferred;return setTimeout(function(){p.resolve()},timer),p}}function onend(){self._model.set("active",1)}function opacity(){var p=new jQuery.Deferred;return self._model.set("active",0),setTimeout(function(){p.resolve()},100),p}function onopacity(){var p=new jQuery.Deferred;return self.trigger(SNavContainer._BEFORE_SWAP_EVENT,[levelView.navs[levelView._active]]),levelView.show(ref,1).then(function(active){self.trigger(SNavContainer._SLIDE_EVENT,(+level>0?-320:0)*level*("left"==self.side()?-1:1)),self._active=level,self.trigger(SNavContainer._SWAP_EVENT,[levelView.navs[levelView._active]]),p.resolve()}),p}levelView=LevelZView.getByUid(self.levels[level]),self._firstopening?firstPlot():opacity().then(waitFor(50)).then(onopacity).then(waitFor(50)).then(onend)}(this),p},calculateHeight:function(){void function(self,level,nav){level=LevelZView.getByUid(self.levels[self._active]),nav=NavZView.getByUid(level.navs[level._active]),setTimeout(function(){rAF(function(){self.$root().height(nav.$root().height())})},100)}(this)}}}),SSiteNav=module.exports.SSiteNav=singleton(MainNav,function(Super,statics){return cssCompat(function(compatTable){stylesheet.rule(".rlx-ui-pane--nav{overflow:hidden;}",".rlx-ui-pane--nav > .rlx-ui-pane-wrap{overflow-x:hidden;overflow-y:scroll;left:0;position:relative;}")}),{constructor:function(){MainNav.apply(this,arguments),void function(self,searchEl){function checkAndCloseActiveSubPane(active){return active=SubPane.getActiveUid(),active?SubPane.getByUid(active).hide():new Promise.resolve}SNavContainer.prototype.width=MainNav.prototype.width.bind(self),SNavContainer.prototype.side=MainNav.prototype.side.bind(self),self._nav=new SNavContainer,self._nav.on(SNavContainer._BEFORE_SWAP_EVENT,function(){self.$query("content").animate({scrollTop:0},125)}),self._nav._activeAnchor=NavItemZView.getActiveUid(),self.ready=Promise.all([self._nav]),self.root().className+=" rlx-ui-pane--nav",self.query("content").appendChild(self._nav.borrow()),self.on(NavPane.HIDE_EVT,function(){self.resetInitialState(),self._nav.swap(0,0),checkAndCloseActiveSubPane()}),bus.on("/ui/nav/close",function(next){self.hide(),next()}),bus.on("/ui/nav/back",function(next){self.resetInitialState(),next()})}(this)},_transition:"175ms left ease-in-out, 175ms right ease-in-out, 175ms transform ease-in-out, 150ms opacity",uid:function(){return this._model.get("uid")||(this._model.set("uid",UID.uid()),this._model.get("uid"))},resetInitialState:function(){bus.trigger("/ui/nav/reset"),"undefined"!=typeof this._nav&&"undefined"!=typeof this._nav._activeAnchor&&void function(realActive,active){NavItemZView.getActiveUids().forEach(function(uid){NavItemZView.getByUid(uid)._model.set("active",0)}),"undefined"!=typeof realActive&&realActive._model.set("active",1)}(NavItemZView.getByUid(this._nav._activeAnchor),NavItemZView.getByUid(NavItemZView.getActiveUid()))}}})},{"./MainNav":6,"./NavPane":7,"./SEventRouter":9,"./SubPane":17,"./environment":18,"./stylesheet":22,"mbx/src/Promise":2}],13:[function(require,module,exports){"use strict";var env=require("./environment"),klass=requirejs("utils").classMaker,singleton=requirejs("utils").singleton,spread=requirejs("utils").slice,EventRouter=require("./SEventRouter").SEventRouter,Model=requirejs("lib/Model"),Promise=jQuery.Deferred,Router=requirejs("lib/Router"),bus=new EventRouter;module.exports.SUIRouter=singleton(Router,function(Super,statics){var wasDebugDone=!1;return{constructor:function(routes){Super.call(this),void function(self,i,l){function dispatch(){return self.dispatch.apply(self,arguments)}for(self.dispatch=function(rv){rv=self.constructor.prototype.dispatch.apply(self,arguments),!rv},env.debugJS&&self.debug(),bus.when("/ui/:remain(.*)",function(next,vars){self.dispatch(vars.request),next()}),routes=routes||[],i=0,l=routes.length;i<l;i++)env.debugJS&&void 0,self.when(routes[i].path,routes[i].handleRoute)}(this)},debug:function(){if(!wasDebugDone)return wasDebugDone=!0,function(self){self.when("*",function(next,vars,data){return data=spread(arguments,2),next(!1)})}(this)}}})},{"./SEventRouter":9,"./environment":18}],14:[function(require,module,exports){"use strict";var cancelAnimationFrame=requirejs("utils").cancelAnimationFrame,env=require("./environment"),cssCompat=require("./stylesheet").getCompat,indexOf=jQuery.inArray,klass=requirejs("utils").classMaker,requestAnimationFrame=requirejs("utils").requestAnimationFrame,singleton=requirejs("utils").singleton,stylesheet=require("./stylesheet").stylesheet,ClientRect=requirejs("lib/ClientRect"),EventRouter=require("./SEventRouter").SEventRouter,Promise=jQuery.Deferred,ZParser=requirejs("lib/ZenView").ZenParser,ZView=requirejs("lib/ZenView"),bus=new EventRouter,CSS_TRANSITION_COMPAT=require("./stylesheet").CSS_TRANSITION_COMPAT,CSS_TRANSITION_PROPERTY=require("./stylesheet").CSS_TRANSITION_PROPERTY,CSS_TRANSITIONEND_EVENT=require("./stylesheet").CSS_TRANSITIONEND_EVENT,KEY=require("./key").key,CHANGE_EVT="/viewport/change/",wrapper=document.querySelector(".rlx-global"),readyDFD=function(dfd){return cssCompat(function(){requestAnimationFrame(function(){dfd.resolve()})}),dfd}(new Promise);module.exports.SDebugZView=singleton(ZView,function(Super,statics){return stylesheet.rule("#rlx-viewport-debug{position:fixed; z-index: 20000; top: 0; left: 0; background: black; opacity:0.3; padding: 5px;}","#rlx-viewport-debug *{ list-style:none inside; padding: 0; margin: 0px; color: white; font-size:12px;}"),statics.message=function(v){(new module.exports.SDebugZView).message(v)},{constructor:function(){Super.apply(this,arguments),void function(self){var viewport=new module.exports.SViewport;bus.on(module.exports.SViewport.CHANGE_EVT,function(next,vars,matrix){self._model.set({height:matrix.height(),width:matrix.width()}),next()})}(this)},_template:"div#rlx-viewport-debug > ul@ul > (li > span > {width:} + \xa7{$width}) + (li > span > \xa7{height:} + \xa7{$height})",message:function(v){this.query("ul").childNodes.length>5&&this.query("ul").removeChild(this.query("ul").childNodes[0]),this.query("ul").appendChild(ZParser.parse("li>span{"+v+"}").tree.childNodes[0])},show:function(){document.body.insertBefore(this.borrow(),document.body.childNodes[0])},hide:function(){this.recover()}}}),module.exports.SOverlay=singleton(ZView,function(Super,statics){return statics.ACTIVATION_READYING_EVT="/overlay/activation/readying",statics.ACTIVATION_READY_EVT="/overlay/activation/ready",statics.ACTIVATE_EVT="/overlay/activation/request",statics.ACTIVATED_EVT="/overlay/activation/done",statics.DEACTIVATION_READYING_EVT="/overlay/deactivation/readying",statics.DEACTIVATION_READY_EVT="/overlay/deactivation/ready",statics.DEACTIVATE_EVT="/overlay/deactivation/request",statics.DEACTIVATED_EVT="/overlay/deactivation/done",cssCompat(function(compatTable){stylesheet.rule(".rlx-ui-overlay{position:absolute; left:0; top:0; width:100%; height:100%; z-index: 1958; }",function(overlayCSS){bus.on(CHANGE_EVT,function(next,vars,matrix){next()})})}),bus.on(statics.ACTIVATE_EVT,function(next,vars){(new module.exports.SOverlay).activate(),next()}),bus.on(statics.DEACTIVATE_EVT,function(next,vars){(new module.exports.SOverlay).deactivate(),next()}),{constructor:function(){ZView.call(this),void function(self){var viewport=new module.exports.SViewport;cssCompat(function(compatTable){stylesheet.rule(".rlx-ui-overlay {}",function(overlayCSS){function onclick(){bus.trigger(module.exports.SViewport.GLOBAL_UNLOCK_EVT)}var timer_a,timer_b;overlayCSS.property("opacity","0"),CSS_TRANSITION_COMPAT&&overlayCSS.property(CSS_TRANSITION_PROPERTY,self.transition()),self.on(module.exports.SOverlay.ACTIVATION_READYING_EVT,function(){self.trigger(module.exports.SOverlay.ACTIVATION_READY_EVT)}),self.on(module.exports.SOverlay.DEACTIVATION_READYING_EVT,function(){function onend(e){clearTimeout(locale_timer),self.trigger(module.exports.SOverlay.DEACTIVATION_READY_EVT),self.query("root").removeEventListener(CSS_TRANSITIONEND_EVENT,onevent)}function onevent(e){e.target===self.query("root")&&onend()}var locale_timer;self.$query("root").off("click",onclick),cancelAnimationFrame(timer_a),timer_a=requestAnimationFrame(function(){CSS_TRANSITION_COMPAT?(self.query("root").addEventListener(CSS_TRANSITIONEND_EVENT,onevent),locale_timer=setTimeout(function(){onend()},1e3)):setTimeout(onend,16),requestAnimationFrame(function(){overlayCSS.property("opacity","0")})})}),bus.on(module.exports.SOverlay.ACTIVATED_EVT,function(next){function onend(e){clearTimeout(locale_timer),self.$query("root").on("click",onclick),self.query("root").removeEventListener(CSS_TRANSITIONEND_EVENT,onevent)}function onevent(e){e.target===self.query("root")&&onend()}var locale_timer;CSS_TRANSITION_COMPAT?(self.query("root").addEventListener(CSS_TRANSITIONEND_EVENT,onevent),locale_timer=setTimeout(function(){onend()},1e3)):setTimeout(onend,16),cancelAnimationFrame(timer_b),timer_b=requestAnimationFrame(function(){overlayCSS.property("opacity","0.5")}),next()})})})}(this)},_template:"div.rlx-ui-component.rlx-ui-overlay",_transition:"opacity 325ms ease-in",transition:function(){return this._transition},activate:function(){return function(self,wrapper){function onready(){self.off(module.exports.SOverlay.ACTIVATION_READY_EVT,onready),wrapper=document.querySelector(".rlx-global"),wrapper.insertBefore(self.borrow(),wrapper.childNodes[0]),bus.trigger(module.exports.SOverlay.ACTIVATED_EVT)}self.on(module.exports.SOverlay.ACTIVATION_READY_EVT,onready),self.trigger(module.exports.SOverlay.ACTIVATION_READYING_EVT)}(this)},deactivate:function(){return function(self){function onready(){self.off(module.exports.SOverlay.DEACTIVATION_READY_EVT,onready),self.recover(),bus.trigger(module.exports.SOverlay.DEACTIVATED_EVT)}self.on(module.exports.SOverlay.DEACTIVATION_READY_EVT,onready),self.trigger(module.exports.SOverlay.DEACTIVATION_READYING_EVT)}(this)}}}),module.exports.SViewport=singleton(function(Super,statics){function onpointerscrollevt(e,target,hit){function block(){env.debugJS,e.stopImmediatePropagation(),e.preventDefault()}for(target=e.target;hit=!!SCROLL_BYPASS_ELT_CLASSNAME_REGEXP.exec(target.className||""),!hit&&target.parentNode;)target=target.parentNode;hit?void function(dY,dX,up,down){Math.abs(dX)>Math.abs(dY)?block():dY<0&&!up?block():dY>0&&!down&&block()}(e.deltaY,e.deltaX,target.scrollTop>0,target.clientHeight+target.scrollTop<target.scrollHeight):block()}function onpointerevt(e,target,hit){function block(){env.debugJS,e.stopImmediatePropagation(),e.preventDefault()}for(target=e.target;hit=!!BYPASS_ELT_CLASSNAME_REGEXP.exec(target.className||""),!hit&&target.parentNode;)target=target.parentNode;hit||block()}function onkeybevt(e,target,hit){function block(){env.debugJS,e.stopImmediatePropagation(),e.preventDefault()}for(target=e.target;hit=!!BYPASS_ELT_CLASSNAME_REGEXP.exec(target.className||""),!hit&&target.parentNode;)target=target.parentNode;hit||block()}function ontouchevt(e,target,hit){function block(){env.debugJS,e.stopImmediatePropagation(),e.preventDefault()}for(target=e.target;hit=!!BYPASS_ELT_CLASSNAME_REGEXP.exec(target.className||""),!hit&&target.parentNode;)target=target.parentNode;hit?void function(x,y){function onmove(e,dX,dY,up,down){function block(){env.debugJS,e.stopImmediatePropagation(),e.preventDefault()}dX=x-e.touches[0].pageX,dY=y-e.touches[0].pageY,up=target.scrollTop>0,down=target.clientHeight+target.scrollTop<target.scrollHeight,x=e.touches[0].pageX,y=e.touches[0].pageY,Math.abs(dX)>Math.abs(dY)?block():dY<0&&!up?block():dY>0&&!down&&block()}function onend(){target.removeEventListener("touchmove",onmove,!0),target.removeEventListener("touchend",onend,!0)}x=e.touches[0].pageX,y=e.touches[0].pageY,target.addEventListener("touchmove",onmove,!0),target.addEventListener("touchend",onend,!0)}():block()}var AEL_COMPAT="function"==typeof window.addEventListener,TOUCH_COMPAT=env.touch,BYPASS_ELT_CLASSNAME_REGEXP=new RegExp(["rlx-ui-component","rlx-ui-scroll-component"].join("|")),SCROLL_BYPASS_ELT_CLASSNAME_REGEXP=new RegExp(["rlx-ui-scroll-component"].join("|")),KEYBOARD_SCROLL_EVTS=["keydown"],POINTER_SCROLL_EVTS=["DOMMouseScroll","wheel","mousewheel"],POINTER_EVTS=["mousedown","mouseenter","click"],TOUCH_EVTS=["touchstart"],locked=!1,lockers=[];return statics.CHANGE_EVT="/viewport/change/",statics.LOCK_EVT="/viewport/lock/request",
statics.LOCKED_EVT="/viewport/lock/done",statics.GLOBAL_UNLOCK_EVT="/viewport/globalunlock/request",statics.UNLOCK_EVT="/viewport/unlock/request",statics.UNLOCKED_EVT="/viewport/unlock/done",cssCompat(function(compatTable){stylesheet.rule("html{ height:100%; }","body{ height:100%; }",function(htmlCSS,bodyCSS){bus.on(statics.LOCK_EVT,function(next,vars){htmlCSS.property("overflow","hidden","important"),env.mobile&&htmlCSS.property("height","100%","important"),next()}),bus.on(statics.UNLOCKED_EVT,function(next,vars){htmlCSS.property("overflow","auto","important"),env.mobile&&htmlCSS.property("height","auto","important"),next()})})}),{constructor:function(){void function(self){function onevent(e){"scroll"===e.type&&locked||(cancelAnimationFrame(event_raf_timer),clearTimeout(event_st_timer),lockers.length?event_raf_timer=requestAnimationFrame(function(){self.broadcast()}):event_st_timer=setTimeout(function(){self.broadcast()},100))}function preventScroll(e){e.preventDefault(),e.stopPropagation()}var event_raf_timer,event_st_timer,lock_unlock_timer;AEL_COMPAT&&(window.addEventListener("scroll",onevent,!0),window.addEventListener("resize",onevent,!0)),env.debugJS&&(new module.exports.SDebugZView).show(),bus.on(statics.LOCK_EVT,function(next,vars,key,caller){caller=caller&&"function"==typeof caller.uid?caller:"string"==typeof caller?{uid:function(uid){return function(){return uid}}(caller)}:function(){throw new Error(" viewport, LOCK_EVT ")}(),window.addEventListener("scroll",preventScroll),self.lock(key,{uid:caller.uid(),overlay:"function"==typeof caller.overlay?caller.overlay():caller.overlay}),next()}),bus.on(statics.UNLOCK_EVT,function(next,vars,key,caller,dict,uid){uid=caller&&"function"==typeof caller.uid?caller.uid():"string"==typeof caller?caller:function(){throw new Error("viewport UNLOCK_EVT")}(),dict=dict&&dict.constructor===Object?dict:{},window.removeEventListener("scroll",preventScroll),requestAnimationFrame(function(){caller.overlay()&&self.unlock(key,{uid:uid,replace:!!dict.replace})}),next()}),requestAnimationFrame(function(){self.broadcast()})}(this)},broadcast:function(){return function(self){new ClientRect(document.documentElement).compute(function(matrix){bus.trigger(module.exports.SViewport.CHANGE_EVT,matrix)})}(this)},lock:function(key,dict,uid){if(key="string"==typeof key?key:null,dict=dict&&dict.constructor===Object?dict:{},uid="string"==typeof dict.uid?dict.uid:function(){throw new Error("SViewport.lock()")}(),this.broadcast(),uid&&dict.overlay)return function(self,body,evts,idx){if(bus.trigger(module.exports.SOverlay.ACTIVATE_EVT),body=document.getElementsByTagName("body")[0],idx=indexOf(uid,lockers),!(idx>-1||(lockers.push(uid),locked))){if(locked=!0,AEL_COMPAT){for(evts=[].concat(POINTER_SCROLL_EVTS);evts.length;)window.addEventListener(evts.shift(),onpointerscrollevt,!0);for(evts=[].concat(KEYBOARD_SCROLL_EVTS);evts.length;)window.addEventListener(evts.shift(),onkeybevt,!0);if(TOUCH_COMPAT)for(evts=[].concat(TOUCH_EVTS);evts.length;)window.addEventListener(evts.shift(),ontouchevt,!0);for(evts=[].concat(POINTER_EVTS);evts.length;)window.addEventListener(evts.shift(),onpointerevt,!0)}else alert("todo");bus.trigger(statics.LOCKED_EVT)}}(this)},unlock:function(key,dict,uid){if(key="string"==typeof key?key:null,dict=dict&&dict.constructor===Object?dict:{},uid="string"==typeof dict.uid?dict.uid:function(){throw new Error(" SViewport.unlock ")}())return function(self,body,evts,idx){if(body=document.getElementsByTagName("body")[0],idx=indexOf(uid,lockers),idx>-1&&lockers.splice(idx,1),!lockers.length&&!dict.replace){if(AEL_COMPAT){for(evts=[].concat(POINTER_SCROLL_EVTS);evts.length;)window.removeEventListener(evts.shift(),onpointerscrollevt,!0);for(evts=[].concat(KEYBOARD_SCROLL_EVTS);evts.length;)window.removeEventListener(evts.shift(),onkeybevt,!0);if(TOUCH_COMPAT)for(evts=[].concat(TOUCH_EVTS);evts.length;)window.removeEventListener(evts.shift(),ontouchevt,!0);for(evts=[].concat(POINTER_EVTS);evts.length;)window.removeEventListener(evts.shift(),onpointerevt,!0)}else alert("todo");locked=!1,bus.trigger(statics.UNLOCKED_EVT),bus.trigger(module.exports.SOverlay.DEACTIVATE_EVT)}}(this)}}})},{"./SEventRouter":9,"./environment":18,"./key":20,"./stylesheet":22}],15:[function(require,module,exports){"use strict";var singleton=requirejs("utils").singleton,EventRouter=require("./SEventRouter").SEventRouter,NavSubPane=require("./NavSubPane").NavSubPane,bus=new EventRouter;module.exports.SWatchSub=singleton(NavSubPane,function(Super,statics){return{constructor:function(){NavSubPane.apply(this,arguments),void function(self){function onnavchange(next){self.hide(),next()}function closehandler(){bus.trigger("/ui/nav/back")}self.$query("close").on("click",closehandler),self.on("/subpane/shown",function(){bus.on("/ui/nav/*",onnavchange)})}(this)}}})},{"./NavSubPane":8,"./SEventRouter":9}],16:[function(require,module,exports){"use strict";function fill(){return["<span>","<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus sagittis, lectus ac auctor aliquet, diam odio dictum nisi, ac sodales dolor erat eu massa. Cras id hendrerit quam, nec viverra nunc. Nam viverra sem ullamcorper, bibendum diam eget, porttitor libero. Nunc molestie ex augue, eu hendrerit ligula faucibus sit amet. Sed ornare urna at bibendum congue. Nunc suscipit, risus at efficitur pretium, orci metus consequat nibh, eget euismod orci velit vel lectus. Suspendisse in urna sed eros finibus posuere vel id odio. Integer ligula sapien, fringilla sit amet facilisis eget, maximus vitae nibh. Vivamus sodales malesuada nisl vel mattis. Sed vestibulum mollis magna sed aliquet. Quisque dolor leo, semper hendrerit tincidunt eget, laoreet ut lectus. Nullam eu dapibus dui.","<p>In ante turpis, blandit at nulla nec, euismod mattis est. Etiam vel tempus felis, at feugiat ipsum. Vivamus dui diam, molestie eget tellus ut, aliquet consequat velit. Nulla vel justo enim. Morbi dapibus gravida nisi ut dapibus. Etiam condimentum odio vel arcu feugiat, aliquet fermentum velit ullamcorper. Vestibulum id aliquet nibh. Proin odio diam, rutrum vitae ultricies in, consequat tempor turpis. Ut interdum dictum leo, vel sodales diam scelerisque eget. Pellentesque lacinia, odio eu viverra blandit, orci sapien euismod lacus, ut ullamcorper eros orci tempus est. Nulla facilisi. Phasellus et pretium leo, vitae finibus sapien. In at pulvinar libero.","<p>Quisque maximus lorem mauris. Vivamus vel velit eget tellus sodales porta id non enim. Phasellus sit amet fringilla mi. Proin interdum velit quis posuere molestie. Sed eget sem ac ipsum ultrices gravida in eu diam. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Sed pretium non urna porttitor cursus. Pellentesque fermentum dolor odio, at commodo diam hendrerit eu. Aliquam eu augue euismod, aliquam nunc id, ultrices erat. Aenean aliquet felis lorem, vel bibendum neque convallis nec. Morbi at dolor in ex mollis aliquam vel eu dui.","<p>Etiam mattis nibh euismod diam rhoncus elementum. Mauris euismod leo molestie, interdum dui vitae, maximus dolor. Nulla facilisi. Praesent porttitor justo at luctus egestas. Pellentesque tempor pharetra massa, ac malesuada velit fermentum quis. Integer vehicula justo id ante pretium, non blandit orci vestibulum. Phasellus eget eleifend turpis, at hendrerit ipsum. Nullam vitae erat faucibus, pellentesque odio et, pharetra risus. Praesent ut massa et erat mollis commodo. Aenean dapibus tortor at magna dapibus, in pulvinar purus congue. Nam turpis ex, dignissim eget felis non, fermentum bibendum mi. Sed venenatis est eu sollicitudin feugiat. Nulla facilisi. Donec pulvinar nunc vel eros aliquam maximus at venenatis leo. Cras libero metus, fermentum non consectetur sed, tempor at nisl. Pellentesque magna orci, facilisis sit amet porttitor eu, tempus id nisl.","<p>Suspendisse congue, magna sodales dapibus imperdiet, eros magna tincidunt purus, a ultricies turpis ante et diam. Integer elementum sed tortor quis placerat. Vestibulum dapibus semper sapien sit amet fermentum. Phasellus pellentesque vulputate nisl, eu euismod nibh tristique ut. Mauris viverra tortor ante, sed vehicula felis tincidunt eget. Vivamus ultricies id justo a tempor. Nam vel nunc a velit hendrerit sollicitudin. Fusce dapibus, tellus at consectetur sagittis, nunc eros semper nunc, non efficitur dolor justo convallis ligula. Pellentesque mattis sed magna vitae tempor.","</span>"].join("")}var cancelAnimationFrame=requirejs("utils").cancelAnimationFrame,cssCompat=require("./stylesheet").getCompat,env=require("./environment"),klass=requirejs("utils").classMaker,requestAnimationFrame=requirejs("utils").requestAnimationFrame,stylesheet=require("./stylesheet").stylesheet,EventRouter=require("./SEventRouter").SEventRouter,Model=requirejs("lib/Model"),Pane=require("./NavPane").NavPane,mPane=require("./NavPane").MobileNavPane,NavPane=RLX.GLOBALS.features.isMobile?mPane:Pane,Promise=jQuery.Deferred,Router=requirejs("lib/Router"),UID=requirejs("lib/UID"),Viewport=require("./SViewport").SViewport,ZView=requirejs("lib/ZenView"),KEY=require("./key").key,bus=new EventRouter,viewport=new Viewport,readyDFD=function(dfd){return cssCompat(function(){dfd.resolve()}),dfd}(new Promise);module.exports.SideBar=klass(NavPane,function(Super,statics){var _activeUid,sidebars={};return statics.getActiveUid=function(){return _activeUid?""+_activeUid:null},statics.getByUid=NavPane.getByUid,{constructor:function(){Super.apply(this,arguments),sidebars[this.uid()]={instance:this},void function(self){self.on(NavPane.SHOW_EVT,function(){_activeUid=self.uid()}),self.on(NavPane.HIDE_EVT,function(){_activeUid===self.uid()&&(_activeUid=null)})}(this)},_overlay:!0,_side:RLX.isRTL?"left":"right"}})},{"./NavPane":7,"./SEventRouter":9,"./SViewport":14,"./environment":18,"./key":20,"./stylesheet":22}],17:[function(require,module,exports){"use strict";var screenWidth,cancelAnimationFrame=requirejs("utils").cancelAnimationFrame,cssCompat=require("./stylesheet").getCompat,env=require("./environment"),inArray=jQuery.inArray,klass=requirejs("utils").classMaker,requestAnimationFrame=requirejs("utils").requestAnimationFrame,spread=requirejs("utils").slice,stylesheet=require("./stylesheet").stylesheet,EventRouter=require("./SEventRouter").SEventRouter,Model=requirejs("lib/Model"),Promise=jQuery.Deferred,UID=requirejs("lib/UID"),Viewport=require("./SViewport").SViewport,ZView=requirejs("lib/ZenView"),ZParser=requirejs("lib/ZenView").ZenParser,CSS_TRANSITION_COMPAT=require("./stylesheet").CSS_TRANSITION_COMPAT,CSS_TRANSITION_PROPERTY=require("./stylesheet").CSS_TRANSITION_PROPERTY,CSS_TRANSITIONEND_EVENT=require("./stylesheet").CSS_TRANSITIONEND_EVENT,KEY=require("./key").key,bus=new EventRouter,viewport=new Viewport,readyDFD=function(dfd){return cssCompat(function(){requestAnimationFrame(function(){dfd.resolve()})}),dfd}(new Promise),siteWrapperEl=document.querySelector(".rlx-global");module.exports.SubPane=klass(ZView,function(Super,statics){function std_transition(str,prop){return str.replace("transform",prop)}var _activeUid,subPanes={};return statics.getByUid=function(uid){return subPanes[uid]&&subPanes[uid].instance},statics.getActiveUid=function(){return _activeUid?""+_activeUid:null},cssCompat(function(compatTable){stylesheet.rule(".rlx-ui-pane--sub{ position:absolute; z-index:1989; top:0; width:100%; }",".rlx-ui-pane--sub > .rlx-ui-pane-wrap{ position:relative; top:0; overflow:auto; }",function(mainCSS,wrapCSS){bus.on(Viewport.CHANGE_EVT,function(next,vars,matrix){screenWidth=matrix.width(),mainCSS.property({height:matrix.contentHeight()+"px"}),wrapCSS.property({height:matrix.height()+"px",top:matrix.N().y+"px"}),next()})})}),statics.SHOW_READYING_EVT="/subpane/showreadying",statics.SHOW_READY_EVT="/subpane/showready",statics.SHOW_EVT="/subpane/show",statics.SHOWN_EVT="/subpane/shown",statics.HIDE_EVT="/subpane/hide",statics.HIDDEN_EVT="/subpane/hidden",statics.HIDE_CLEANING_EVT="/subpane/hidecleaning",statics.HIDE_CLEANED_EVT="/subpane/hidecleaned",statics.CONTENT_READY_EVT="/subpane/contentready",{constructor:function(dict,model){dict=dict&&dict.constructor===Object?dict:{},model=Model.isImplementedBy(model)?model:model&&model.constructor===Object?new Model(model):new Model,model.set({uid:UID.uid(),width:"number"==typeof dict.width?dict.width:"string"==typeof dict.width?parseInt(dict.width,10):statics.DEFAULT_WIDTH,side:this.side()}),Super.call(this,model),void function(self){subPanes[self._model.get("uid")]={instance:self},dict.className&&(self.query("root").className+=" "+dict.className),cssCompat(function(compatTable){stylesheet.rule(self.cssSelector()+"{}",self.cssSelector()+" .rlx-ui-pane-wrap{}",function(mainCSS,wrapCSS,side){side=self.side(),mainCSS.property(CSS_TRANSITION_PROPERTY,std_transition(dict.transition?dict.transition:self.transition(),compatTable.transform)),mainCSS.property(compatTable.transform,"translate3d(0, 0, 0)"),mainCSS.property(compatTable.backfaceVisibility,"hidden"),self.on(module.exports.SubPane.SHOW_READYING_EVT,function(auid){viewport.broadcast(),mainCSS.property("z-index",1990),auid="function"==typeof self.constructor.getActiveUid?self.constructor.getActiveUid():null,auid&&auid!==self.uid()&&module.exports.SubPane.getByUid(auid).hide({replace:!0}),requestAnimationFrame(function(){self.trigger(module.exports.SubPane.SHOW_READY_EVT)}),self.on(module.exports.SubPane.SHOW_EVT,function(){function onend(){clearTimeout(local_timer),self.query("root").removeEventListener(CSS_TRANSITIONEND_EVENT,onevent),self.trigger(module.exports.SubPane.SHOWN_EVT)}function onevent(e){e.target===self.query("root")&&onend()}var local_timer;"right"===side?mainCSS.property("right","-"+self.width()+"px"):mainCSS.property("left","-"+self.width()+"px"),requestAnimationFrame(function(){CSS_TRANSITION_COMPAT?(self.query("root").addEventListener(CSS_TRANSITIONEND_EVENT,onevent),local_timer=setTimeout(function(){},1e3)):setTimeout(onend,16),compatTable.transform?"left"===side?mainCSS.property(compatTable.transform,"translate3d("+self.width()+"px, 0, 0)"):mainCSS.property(compatTable.transform,"translate3d("+-self.width()+"px, 0, 0)"):"right"===side?mainCSS.property("right","0px"):mainCSS.property("left","0px")})})}),self.on(module.exports.SubPane.HIDE_EVT,function(){function onend(){clearTimeout(local_timer),self.query("root").removeEventListener(CSS_TRANSITIONEND_EVENT,onevent),self.trigger(module.exports.SubPane.HIDDEN_EVT)}function onevent(e){e.target===self.query("root")&&onend()}var local_timer;requestAnimationFrame(function(){CSS_TRANSITION_COMPAT?(self.query("root").addEventListener(CSS_TRANSITIONEND_EVENT,onevent),local_timer=setTimeout(function(){onend()},1e3)):setTimeout(onend,16),compatTable.transform?mainCSS.property(compatTable.transform,"translate3d(0, 0, 0)"):(mainCSS.property("z-index",1989),"right"===side?mainCSS.property("right","-"+self.width()+"px"):mainCSS.property("left","-"+self.width()+"px"))})}),self.on(module.exports.SubPane.HIDE_CLEANING_EVT,function(){self.recover(),self.trigger(module.exports.SubPane.HIDE_CLEANED_EVT)}),self.on(module.exports.SubPane.SHOW_EVT,function(){_activeUid=self.uid()}),self.on(module.exports.SubPane.HIDE_EVT,function(){_activeUid===self.uid()&&(_activeUid=null)}),self.query("close").addEventListener("click",self._onclosehandler.bind(self))})})}(this)},_template:"div#$uid.rlx-ui-component.rlx-ui-pane.rlx-ui-pane--sub.rlx-ui-pane--$side > div.rlx-ui-pane-wrap.rlx-ui-scroll-component@wrap@content > span.rlx-ui-pane__close@close{close}",_transition:"left 325ms ease-in, right 325ms ease-in, transform 650ms ease-in-out",_onclosehandler:function(){this.hide()},transition:function(){return this._transition},_side:RLX.isRTL?"right":"left",side:function(){return this._side},_overlay:!0,overlay:function(){return this._overlay},uid:function(){return this._model.get("uid")},width:function(){return screenWidth},cssSelector:function(){return["#",this.uid()].join("")},show:function(dict,cb,args){return args=spread(arguments),cb="function"==typeof args[args.length-1]?args.pop():Function.prototype,dict=args[args.length-1]&&args[args.length-1].constructor===Object?args.pop():{},function(self){function onshown(){self.off(module.exports.SubPane.SHOWN_EVT,onshown),cb.call(self)}function onready(){self.off(module.exports.SubPane.SHOW_READY_EVT,onready),requestAnimationFrame(function(){siteWrapperEl&&siteWrapperEl.insertBefore(self.borrow(),siteWrapperEl.childNodes[0]),self.on(module.exports.SubPane.SHOWN_EVT,onshown),self.trigger(module.exports.SubPane.SHOW_EVT)})}return readyDFD.then(function(){self.on(module.exports.SubPane.SHOW_READY_EVT,onready),bus.trigger(Viewport.LOCK_EVT,KEY,self),self.trigger(module.exports.SubPane.SHOW_READYING_EVT)})}(this)},hide:function(dict,cb,args){if(args=spread(arguments),cb="function"==typeof args[args.length-1]?args.pop():Function.prototype,dict=args[args.length-1]&&args[args.length-1].constructor===Object?args.pop():{},!this._fragment.childNodes.length)return function(self){function onclean(){self.off(module.exports.SubPane.HIDE_CLEANED_EVT,onclean),bus.trigger(Viewport.UNLOCK_EVT,KEY,self,dict),cb.call(self)}function onhide(){self.off(module.exports.SubPane.HIDDEN_EVT,onhide),self.on(module.exports.SubPane.HIDE_CLEANED_EVT,onclean),self.trigger(module.exports.SubPane.HIDE_CLEANING_EVT)}return readyDFD.then(function(){self.on(module.exports.SubPane.HIDDEN_EVT,onhide),self.trigger(module.exports.SubPane.HIDE_EVT)})}(this)},append:function(el,content){var self=this;el.append(content),requestAnimationFrame(function(){self.trigger(module.exports.SubPane.CONTENT_READY_EVT)})}}})},{"./SEventRouter":9,"./SViewport":14,"./environment":18,"./key":20,"./stylesheet":22}],18:[function(require,module,exports){"use strict";module.exports=requirejs("lib/environment"),module.exports.scrollbarWidth=function getScrollBarWidth(d){var rv,a=d.createElement("div"),b=a.appendChild(d.createElement("div")),width=500;return a.style.cssText="width:"+width+"px;height:"+width+"px;overflow:scroll",b.style.cssText="width:"+(width+100)+"px;height:"+(width+100)+"px;",d.body.appendChild(a),rv=width-a.clientWidth,d.body.removeChild(a),rv}(document)},{}],19:[function(require,module,exports){window.define("modules/rlx-ui",["utils","i18n","lib/UID","modules/rlx-urlmapping","lib/environment","lib/SEventRouter","lib/Router","lib/Model","lib/Collection","lib/Cookie","lib/StyleSheet","lib/ClientRect","lib/ZenView","lib/View","modules/rlx-scrollTrunk"],function(){var routes=require("./ui-Routes/index").routes,UIRouter=require("./SUIRouter").SUIRouter,uIRouter=new UIRouter(routes),HeaderModule=require("./SHeader"),SHeader=require("./SHeader").SHeader;return jQuery(".rlx-stickyWrapper").length&&(HeaderModule.header=new SHeader),{SEventRouter:require("./SEventRouter").SEventRouter,SHeader:HeaderModule,MainNav:require("./MainNav").MainNav,SideBar:require("./SideBar").SideBar,NavPane:require("./NavPane").NavPane,MobileNavPane:require("./NavPane").MobileNavPane,NavSubPane:require("./NavSubPane").NavSubPane,SubPane:require("./SubPane").SubPane,SOverlay:require("./SViewport").SOverlay,SViewport:require("./SViewport").SViewport,SUIRouter:require("./SUIRouter").SUIRouter,SSiteNav:require("./SSiteNav"),SWatchSub:require("./SWatchSub").SWatchSub,SSearchResultsSub:require("./SSearchResultsSub").SSearchResultsSub,cssCompat:require("./stylesheet").cssCompat,environment:require("./environment"),eventRouter:require("./SEventRouter").eventRouter,stylesheet:require("./stylesheet").stylesheet,scrolltrunk:requirejs("modules/rlx-scrollTrunk"),router:uIRouter}})},{"./MainNav":6,"./NavPane":7,"./NavSubPane":8,"./SEventRouter":9,"./SHeader":10,"./SSearchResultsSub":11,"./SSiteNav":12,"./SUIRouter":13,"./SViewport":14,"./SWatchSub":15,"./SideBar":16,"./SubPane":17,"./environment":18,"./stylesheet":22,"./ui-Routes/index":23}],20:[function(require,module,exports){"use strict";var UID=requirejs("lib/UID");module.exports.key=UID.uid()},{}],21:[function(require,module,exports){"use strict";var scrollTrunk=requirejs("modules/rlx-scrollTrunk");module.exports.mainScrollTrunk=function(){var scrollTop=RLX.Shims.getScrollTop(),mainTrunk=scrollTrunk.make({});return scrollTrunk.enable(),scrollTop>0&&mainTrunk.scroll(scrollTop),mainTrunk}()},{}],22:[function(require,module,exports){"use strict";var requestAnimationFrame=requirejs("utils").requestAnimationFrame,Promise=jQuery.Deferred,Stylesheet=requirejs("lib/StyleSheet"),ZParser=requirejs("lib/ZenView").ZenParser,COMPUTED_STYLE_COMPAT=module.exports.COMPUTED_STYLE_COMPAT="getComputedStyle"in window?1:0,CSS_TRANSITION_COMPAT=module.exports.CSS_TRANSITION_COMPAT=COMPUTED_STYLE_COMPAT&&"TransitionEvent"in window?1:"WebKitTransitionEvent"in window?3:0,CSS_TRANSITION_PROPERTY=module.exports.CSS_TRANSITION_PROPERTY=1==CSS_TRANSITION_COMPAT?"transition":3==CSS_TRANSITION_COMPAT?"-webkit-transition":null,CSS_TRANSITIONEND_EVENT=module.exports.CSS_TRANSITIONEND_EVENT=1==CSS_TRANSITION_COMPAT?"transitionend":3==CSS_TRANSITION_COMPAT?"webkitTransitionEnd":null;module.exports.stylesheet=new Stylesheet,module.exports.getCompat=module.exports.stylesheet.cssCompat=function(dfd){return dfd=new Promise,module.exports.stylesheet.rule(".test-a{position:fixed; width:400px; height: 100px; background: red; z-index: 10000;}",".test-b{position:sticky; position:-webkit-sticky}",".test-c{overflow-scrolling:touch;-webkit-overflow-scrolling:touch}",".test-d{transform:translate(0, 0);-webkit-transform:translate(0, 0)}",".test-e{backface-visibility:hidden; -webkit-backface-visibility:hidden;}",".test-f{perspective:1000; -webkit-perspective:1000;}",function(a,b,c,d,e,f){dfd.resolve({fixed:a.property("position"),sticky:b.property("position"),overflowScrolling:c.property("overflow-scrolling")?"overflow-scrolling":c.property("-webkit-overflow-scrolling")?"-webkit-overflow-scrolling":null,transform:d.property("transform")?"transform":d.property("-webkit-transform")?"-webkit-transform":null,backfaceVisibility:e.property("backface-visibility")?"backface-visibility":e.property("-webkit-backface-visibility")?"-webkit-backface-visibility":null,perspective:f.property("perspective")?"perspective":f.property("-webkit-perspective")?"-webkit-perspective":null})}),function(cb){return dfd.then(cb)}}()},{}],23:[function(require,module,exports){"use strict";var sitemain=require("./sitenav").routes,watchsub=require("./watchsub").routes,searchresults=require("./searchresults").routes;module.exports.routes=[].concat(sitemain,watchsub,searchresults)},{"./searchresults":24,"./sitenav":25,"./watchsub":26}],24:[function(require,module,exports){"use strict";var Promise=require("mbx/src/Promise").Promise,SearchResults=require("../SSearchResultsSub").SSearchResultsSub,SSiteNav=require("../SSiteNav").SSiteNav,SubPane=require("../SubPane").SubPane,route={path:"/ui/sub/search",handleRoute:function(next,vars,sitenav,sub,active){sitenav=new SSiteNav,sub=new SearchResults,active=SubPane.getActiveUid(),active?p=SubPane.getByUid(active).hide():p=new Promise.resolve,p.then(function(){sub.show()}),next()}};module.exports.routes=[route]},{"../SSearchResultsSub":11,"../SSiteNav":12,"../SubPane":17,"mbx/src/Promise":2}],25:[function(require,module,exports){"use strict";var SSiteNav=require("../SSiteNav").SSiteNav,environment=require("../environment"),siteNav=new SSiteNav({width:320}),main={path:"/ui/main/sitenav",handleRoute:function(next,vars){siteNav.show(),siteNav._nav.swap(0,0),next()}},direct={path:"/ui/main/sitenav/:level/:ref",handleRoute:function(next,vars){siteNav.show(),siteNav._nav.swap(+vars.level,+vars.ref),next()}};module.exports.routes=[main,direct]},{"../SSiteNav":12,"../environment":18}],26:[function(require,module,exports){"use strict";var Promise=require("mbx/src/Promise").Promise,WatchSub=require("../SWatchSub").SWatchSub,SSiteNav=require("../SSiteNav").SSiteNav,SubPane=require("../SubPane").SubPane,route={path:"/ui/sub/watches",handleRoute:function(next,vars,sitenav,sub,active){sitenav=new SSiteNav,sub=new WatchSub,active=SubPane.getActiveUid(),active?p=SubPane.getByUid(active).hide():p=new Promise.resolve,p.then(function(){sub.show()}),next()}};module.exports.routes=[route]},{"../SSiteNav":12,"../SWatchSub":15,"../SubPane":17,"mbx/src/Promise":2}]},{},[19]);