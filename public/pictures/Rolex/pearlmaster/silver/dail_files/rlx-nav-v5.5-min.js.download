!function e(t,n,r){function s(o,u){var a,f,l;if(!n[o]){if(!t[o]){if(a="function"==typeof require&&require,!u&&a)return a(o,!0);if(i)return i(o,!0);throw f=new Error("Cannot find module '"+o+"'"),f.code="MODULE_NOT_FOUND",f}l=n[o]={exports:{}},t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var o,i="function"==typeof require&&require;for(o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var klass=requirejs("utils").classMaker,EE=requirejs("utils").EE,Promise=require("korbutJS/src/Promise").Promise,geoTimeout=(RLX.promises.gmapDFD,1e4),geoOptions={enableHighAccuracy:!1,timeout:geoTimeout,maximumAge:0};module.exports.Geolocation=klass(EE,function(Super,statics){return{constructor:function(){return function(self){return self._promise=new Promise(function(resolve,reject,geoFailSafe){function geoSuccess(pos){clearTimeout(geoFailSafe),resolve(pos)}function geoError(err){clearTimeout(geoFailSafe),reject(new Error(err.message))}navigator.geolocation.getCurrentPosition(geoSuccess,geoError,geoOptions),geoFailSafe=setTimeout(function(){reject(new Error("Geolocating timeout"))},geoTimeout+500)}),self.then=self._promise.then,self.catch=self._promise.catch,self._promise}(this)}}})},{"korbutJS/src/Promise":10}],2:[function(require,module,exports){"use strict";var Promise=require("korbutJS/src/Promise").Promise,klass=requirejs("utils").classMaker,EE=requirejs("utils").EE,ajax=jQuery.ajax,events=require("../events"),eventRouter=require("../events").eventRouter;module.exports.XHR=klass(EE,function(Super,statics){var cache={};return statics._SUCCESS=1,statics._FAIL=2,statics.JSONP=function(url,dict,cbName,jsonpdict,p){return jsonpdict={dataType:"jsonp",jsonp:cbName||"cb"},dict=jQuery.extend({},dict||{},jsonpdict),new module.exports.XHR(url,dict)},{constructor:function(url,dict,request,args){return dict=dict||{},function(self){return self.promise=new Promise(function(resolve,reject){function oncomplete(jqXHR){self.trigger("complete",jqXHR),eventRouter.dispatch(events.xhrComplete,jqXHR)}function onsuccess(data,status,jqXHR){oncomplete.bind(self,jqXHR),cache[url].status=module.exports.XHR._SUCCESS,self.trigger("success",jqXHR),eventRouter.dispatch(events.xhrSuccess,jqXHR);var typeStatus=jqXHR.status.toString().substring(0,1);return"2"===typeStatus?resolve(data):resolve(),jqXHR}function onerror(jqXHR,status,error){return oncomplete.bind(self,jqXHR),self.trigger(error,jqXHR),eventRouter.dispatch(events.xhrError,jqXHR),cache[url].status=module.exports.XHR._FAIL,reject(jqXHR),jqXHR}!cache.hasOwnProperty(url)||dict.renew?(cache[url]={request:ajax.call(null,url,dict),status:0},cache[url].request.then(onsuccess,onerror)):setTimeout(function(){cache[url].request.then(onsuccess,onerror)},4),self.abort=function(){"undefined"==typeof cache[url]||cache[url].status||(cache[url].request.abort(),delete cache[url])}}),self.then=self.promise.then,self.catch=self.promise.catch,self.promise.abort=self.abort,self.promise}(this)}}})},{"../events":4,"korbutJS/src/Promise":10}],3:[function(require,module,exports){"use strict";module.exports=requirejs("lib/environment"),module.exports.geoloc=requirejs("modules/rlx-geolocation"),module.exports.debugJS&&(module.exports.geoloc.showPrices=function(){return!0},module.exports.geoloc.zone=function(){return"zone_h"},module.exports.geoloc.countryCode=function(){return"FR"})},{}],4:[function(require,module,exports){"use strict";var SAppEventRouter=requirejs("lib/SAppEventRouter");module.exports=SAppEventRouter.SAppEventRouter.events,module.exports.SAppEventRouter=SAppEventRouter,module.exports.eventRouter=SAppEventRouter.eventRouter},{}],5:[function(require,module,exports){"use strict";var Promise=jQuery.Deferred;module.exports.loadingPromise=new Promise},{}],6:[function(require,module,exports){"use strict";var i18n=requirejs("i18n"),confstoreloc=requirejs("config~dealerlocator"),env=requirejs("lib/environment"),numTrad=requirejs("modules/rlx-num-trad");module.exports={findRetailer:i18n("model/find-retailer"),hideRetailer:i18n("model/hide-retailer"),currentLocation:i18n("retailers/use-your-current-location"),showPrice:i18n("model/show-price"),hidePrice:i18n("model/hide-price"),configureButton:i18n("model/configure"),addWishlist:i18n("model/watch-added")+" (5/9)",viewWishlist:i18n("model/watch-add-full"),shareThisWatch:i18n("model/share-this-watch"),makeItYours:i18n("website/make-it-yours"),configHeader:i18n("model/configurator-header"),resetConfig:i18n("model/reset-configuration"),shareThisPage:i18n("share/share-this-page"),sidebar:{watchesTitle:i18n("model/rolex-watches"),pricingTitle:i18n("model/rolex-pricing-policies"),close:i18n("model/close")},share:{byEmail:i18n("share/email")},locator:{title:"Rolex retailer locator",findNearest:i18n("retailers/locator/use-current-location-link")},specs:{mobile:{title:i18n("model/specifications"),link:{open:i18n("model/open-detailed-specs"),close:i18n("model/close-detailed-specs")}}}},module.exports.wishlist={add:i18n("model/add-to-wishlist"),added:i18n("model/watch-added"),remove:i18n("model/remove-from-wishlist"),removed:i18n("/model/watch-removed"),full:i18n("model/watch-add-full-alert",numTrad.numTrad(9,["fa"])),show:i18n("model/watch-add-full")},module.exports.wishlist.page={findmyrolex:i18n("website/find-your-rolex"),downloadebrochure:i18n("model/download-brochure"),confirm:i18n("login/send-verification-email"),sharethismodel:i18n("model/share-this-watch"),discover:i18n("website/discover"),removethiswatch:i18n("model/remove-this-watch"),placholdertxt:i18n("wishlist/select-from-collections"),showPrice:i18n("model/show-price"),hidePrice:i18n("model/hide-price"),ref:i18n("/model/ref"),sidebar:{watchesTitle:i18n("model/rolex-watches"),pricingTitle:i18n("model/rolex-pricing-policies"),close:i18n("model/close")}},module.exports.wishlist.sidebar={noItems:i18n("your-wishlist-is-empty"),close:i18n("login/close"),title:i18n("wishlist/my-wishlist"),subtitle:i18n("wishlist/panel-description"),viewmoredetails:i18n("wishlist/panel-cta")},module.exports.specs={mobile:{title:i18n("model/specifications"),link:{open:i18n("model/open-detailed-specs"),close:i18n("model/close-detailed-specs")}}},module.exports.header={yourAccount:i18n("account/your-account"),myAccount:i18n("account/my-account"),account:i18n("account/_"),wishlist:i18n("website/wishlist")},module.exports.configurator={buttonBack:i18n("website/back"),title:i18n("model/configure-model"),close:i18n("website/close"),viewAll:"View all",wouldText:i18n("model/would-you-like-to-see")},module.exports.locator={header:"find a retailer",subHeader:"where to buy a rolex",type:"dealer",findNearest:i18n("retailers/locator/use-current-location-link"),sto:{country:{title:i18n("/retailers/locator/select-country"),type:"country"},region:{title:i18n("/retailers/locator/select-region"),type:"region"},city:{title:i18n("/retailers/locator/select-city"),type:"city"},district:{title:i18n("/retailers/locator/select-district"),type:"district"}},url:[env.baseUrl,confstoreloc["store-locator-base-url"]].join("")},module.exports.service={header:"find a servicing",subHeader:"where to service a rolex",type:"service",findNearest:i18n("retailers/locator/use-current-location-link"),sto:{country:{title:i18n("/retailers/locator/select-country"),type:"country"},region:{title:i18n("/retailers/locator/select-region"),type:"region"}},url:[env.baseUrl,confstoreloc["service-locator-base-url"]].join("")},module.exports.grids={"noresults-watches":{text:i18n("search/sorry-no-match"),more:i18n("search/please-try-another-combination-or-reset")}},module.exports.search={"new-noresults":{title:i18n("search/no-results-found"),text:i18n("search/please-try-another-keyword"),anchor:i18n("/search/back-to-the-home")}},module.exports.filters={show:i18n("model/filters/show-filters"),hide:i18n("model/filters/hide-filters"),reset:i18n("website/reset"),filter_the_results:i18n("model/filters/filter-results"),close:i18n("website/close"),viewtheresults:i18n("search/view-results"),selectcriterials:i18n("search/filters/title"),noresult:i18n("search/no-results-found"),backtomodel:i18n("website/back")}},{}],7:[function(require,module,exports){window.define("modules/rlx-nav-v5.5",["utils","i18n","modules/rlx-user-data","modules/rlx-data-layer","modules/rlx-ui","config~autosuggest","modules/rlx-geolocation","lib/Collection","modules/rlx-country-whitelisting","lib/UID","lib/SEventRouter","lib/SAppEventRouter","lib/SAppRouter","lib/environment","lib/Iterator","lib/Router","lib/Model","lib/ZenView","lib/StyleSheet","lib/ClientRect","lib/Cookie","modules/rlx-transition","modules/rlx-history","modules/rlx-popins","modules/rlx-user-data","modules/rlx-num-trad"],function(_,i18n,userData,WALayer,ui,configAutosug,geolocation,Collection){"use strict";function siteNavReady(root,wscontent,watchsubNav,watchsubNavNode,mainSubNav){mainSubNav="undefined"!=typeof siteNav._nav.getRef("main")?siteNav._nav.getRef("main"):null,mainSubNav&&void function(container,img,channels){container.className+=" rlx-nav__sub-logo",container.appendChild(img),channels.parentNode.insertBefore(container,channels)}(document.createElement("li"),document.querySelector(".rlx-site-nav__logoWrapper").cloneNode(!0),mainSubNav.root().querySelector(".rlx-nav-item__channels")),Array.prototype.slice.apply(siteNav._nav.levels).forEach(function(level,navs){level=ui.SSiteNav.LevelZView.getByUid(level),Array.prototype.slice.apply(level.navs).forEach(function(nav){nav=ui.SSiteNav.NavZView.getByUid(nav),nav.sections.forEach(function(section){section=ui.SSiteNav.NavSectionZView.getByUid(section),section.subviews.forEach(function(view){view=ui.SSiteNav.NavItemZView.getByUid(view),view.on("click",onnavclick)})})})})}function onnavclick(e){this._model.get("html")&&void function(anchor,url,nodeHREF,active){active=SubPane.getActiveUid(),checkAndCloseActiveSubPane().then(function(){return new XHR(url).then(function(html,subpane,activeAnchor){subpane=new NavSubPane,WALayer.push({page:{functionalURL:nodeHREF,responseCode:200}}),subpane.on(SubPane.SHOW_EVT,function(){subpane.append(subpane.$query("content"),html)}),subpane.show().then(function(){subpane.on(SubPane.HIDE_CLEANING_EVT,function(){anchor._model.set("active",0),ui.SSiteNav.NavItemZView.getActiveUid()||siteNav.resetInitialState()})})},noop).catch(function(err){anchor._model.set("active",0)})},noop)}(this,this._model.get("html"),this.query("anchor").getAttribute("href"),"undefined"!=typeof e?e.preventDefault():void 0)}function checkAndCloseActiveSubPane(compare,active){return active=SubPane.getActiveUid(),!active||compare&&compare.uid()==active?new Promise.resolve:SubPane.getByUid(active).hide()}function noop(err){}var Promise=(jQuery.extend.bind(jQuery),_.requestAnimationFrame,require("./locales"),require("korbutJS/src/Promise").Promise),loadingPromise=(require("./environment"),require("./loadingPromise").loadingPromise),XHR=require("./core/XHR").XHR,SAppEventRouter=(require("./core/Geolocation").Geolocation,new userData.SUserNavDataCookie,require("./nav/CollectionAnchorZView").CollectionAnchorZView,requirejs("lib/SAppEventRouter").SAppEventRouter),eventRouter=new SAppEventRouter,siteNav=(SAppEventRouter.events,new ui.SSiteNav.SSiteNav),SubPane=(new ui.SWatchSub,ui.SSiteNav.NavItemZView,ui.SubPane),NavSubPane=ui.NavSubPane;return siteNav.ready.then(siteNavReady,noop),jQuery(document).on("click",".rlx-nav-open",function(e,route){route=this.getAttribute("data-nav-route"),route&&eventRouter.trigger(route)}),{loadingPromise:loadingPromise.promise}})},{"./core/Geolocation":1,"./core/XHR":2,"./environment":3,"./loadingPromise":5,"./locales":6,"./nav/CollectionAnchorZView":8,"korbutJS/src/Promise":10}],8:[function(require,module,exports){"use strict";var _=requirejs("utils"),rAF=_.requestAnimationFrame,ZView=requirejs("lib/ZenView"),UID=requirejs("lib/UID"),SAppEventRouter=requirejs("lib/SAppEventRouter").SAppEventRouter,eventRouter=new SAppEventRouter,events=SAppEventRouter.events,hash=requirejs("modules/rlx-user-data").hash;module.exports.CollectionAnchorZView=ZView.extend(function(Super,statics){var items={};return statics._ACTIVE=" rlx-nav__list-item--active rlx-collection-list__item--active",statics._LOADING=" rlx-nav__list-item--loading",statics.getByUid=function(uid){return items[uid]&&items[uid].instance},statics.getActiveUid=function(){for(var k in items)if(items.hasOwnProperty(k)&&statics.getByUid(k)._model.get("state"))return k},statics.getStateEvtStr=function(anchor,state){return["/user/filters/",anchor.component,"/filter/",anchor.hash(),"/",state?"1":0].join("")},statics.getReqStateEvtStr=function(anchor){return["/user/filters/",anchor.component,"/request/",anchor.hash()].join("")},statics.getResStateEvtStr=function(anchor){return["/user/filters/",anchor.component,"/response/",anchor.hash(),"/:state"].join("")},{constructor:function(dict){dict=dict&&dict.constructor===Object?dict:{},"undefined"==typeof dict.target&&(dict.target=""),"undefined"==typeof dict.className&&(dict.className=""),arguments[0]=dict,Super.apply(this,arguments),void function(self){items[self.uid()]={instance:self},self._model.hook("state",function(v,root){return v&&"undefined"!=typeof statics.getActiveUid()&&statics.getByUid(statics.getActiveUid())._model.set("state",0),v}),self._model.on("change",function(k,v,root){switch(root=self.root(),k){case"state":v?(root.className+=module.exports.CollectionAnchorZView._LOADING,root.className+=module.exports.CollectionAnchorZView._ACTIVE):root.className=root.className.replace(module.exports.CollectionAnchorZView._ACTIVE,""),self.component&&eventRouter.dispatch(module.exports.CollectionAnchorZView.getStateEvtStr(self,v),self)}}),eventRouter.on(events.browseWatchesReady,function(next){self.root().className=self.root().className.replace(module.exports.CollectionAnchorZView._LOADING,""),next()}),self.query("anchor").addEventListener("click",function(e){e.preventDefault(),self._model.get("state")||(self._model.set("state",1),eventRouter.trigger(events.navFamilyBeforeChange),eventRouter.trigger(events.navFamilyChange,self._model.expand()))}),eventRouter.when(module.exports.CollectionAnchorZView.getResStateEvtStr(self),function(next,vars){var from=+self._model.get("state")||0,to=+vars.state;from!==to&&(self._model.set("state",to),to&&eventRouter.trigger(events.navFamilyChange,self._model.expand())),next()}),rAF(function(){})}(this)},component:"navFamily",hash:function(){return hash(this._model.get("name"))},_template:"li.rlx-nav__list-item$className>a[href=$href][data-product-category=$slug].rlx-nav__list-anchor.wa-collectionhub-productcategory{$name}@anchor",uid:function(){return this._model.get("uid")||(this._model.set("uid",UID.uid()),this._model.get("uid"))}}})},{}],9:[function(require,module,exports){"use strict";var klass=require("./class").class;module.exports.Iterator=klass(function(statics){return Object.defineProperties(statics,{iterable:{enumerable:!0,value:function(o){try{return Object.keys(o),!0}catch(e){return!!o&&Object.prototype.hasOwnProperty.call(o,"length")}return!1}},iterate:{enumerable:!0,value:function(o,rv,i,l,lead,trail){if(o=o||Object.create(null),o.constructor===Object&&o.hasOwnProperty("length"))try{for(rv=Array.prototype.slice.call(o),i=0,l=o.length;i<l;i++)if(!rv.hasOwnProperty(i))throw error;o=rv}catch(e){}try{if(rv=Object.keys(o),"[object String]"==Object.prototype.toString.call(o))throw new Error;return rv}catch(e){if(rv=[],"[object String]"==Object.prototype.toString.call(o))for(i=0,l=o.length;i<l;i++)lead=o.charCodeAt(i),trail=o.charCodeAt(i<l-1?i+1:""),rv.push(lead>=55296&&lead<=56319&&trail>=56320&&trail<=57343?o[i]+o[++i]:o[i]);return rv}}}}),{constructor:function(o,opt_keys,keys,i,l){for(opt_keys=!!arguments[1]||"[object String]"==Object.prototype.toString.call(arguments[0]),keys=statics.iterate(o),i=0,l=keys.length,Object.defineProperties(this,{_pointer:{writable:!0,value:-1},_range:{value:[]}});i<l;i++)this._range[i]=opt_keys?[keys[i]]:[keys[i],arguments[0][keys[i]]]},next:{enumerable:!0,value:function(cb,idx){return cb="function"==typeof cb?cb:null,idx=++this._pointer,Object.defineProperty(this,"_current",{configurable:!0,value:idx>=(this._range||[]).length?{index:null,key:null,value:null,done:!0}:{index:idx,key:this._range[idx][0],value:this._range[idx][this._range[idx].length-1],done:!1}}),cb&&cb(this.current.done,this.current.key,this.current.value),this.current}},range:{enumerable:!0,get:function(){return this._range?[].concat(this._range):[]}},pointer:{enumerable:!0,get:function(){return this._pointer||-1},set:function(v){this._pointer=this._pointer||Object.defineProperty(this,"_pointer",{value:-1})._pointer,this._pointer=v}},length:{enumerable:!0,get:function(){return this._range.length}},current:{enumerable:!0,get:function(){return this._current||this.next(),this._current}},purge:{enumerable:!0,configurable:!0,value:function(){}}}})},{"./class":12}],10:[function(require,module,exports){"use strict";var _=require("./utils"),klass=require("./class").class,Iterator=require("./Iterator").Iterator,UID=require("./UID").UID;module.exports.Promise=klass(function(statics){var promises=Object.create(null);return Object.defineProperties(statics,{all:{enumerable:!0,value:function(promises){if(!Iterator.iterable(promises))throw new TypeError("korbut.Promise.all requires an iterable object as argument 0.");return new module.exports.Promise(function(resolve,reject,iterator,length,value){function onresolve(idx){return function(v){value[idx]=v,--length||resolve(value)}}function onreject(e){reject(e)}for(iterator=new Iterator(promises),length=promises.length,value=[];!iterator.next().done;)void function(iteration,input){input=iteration.value,module.exports.Promise.isImplementedBy(input)||(input=module.exports.Promise.cast(input)),input.then(onresolve(iteration.index),onreject)}(iterator.current)})}},cast:{enumerable:!0,value:function(v){return module.exports.Promise.isImplementedBy(v)?v:new module.exports.Promise(function(resolve){resolve("function"==_.typeof(v)?v():v)})}},race:{enumerable:!0,value:function(promises){if(!Iterator.iterable(promises))throw new TypeError("korbut.Promise.race requires an iterable object as argument 0.");return new module.exports.Promise(function(resolve,reject,iterator,length,resolved){function onresolve(v){resolved||(resolved=!0,resolve(v))}function onreject(){--length||reject(new Error("all promises were rejected"))}for(iterator=new Iterator(promises),length=iterator.length;!iterator.next().done;)module.exports.Promise.isImplementedBy(iterator.current.value)&&iterator.current.value.then(onresolve,onreject)})}},reject:{enumerable:!0,value:function(reason){return new module.exports.Promise(function(resolve,reject){reject(reason)})}},resolve:{enumerable:!0,value:function(value){return new module.exports.Promise(function(resolve){resolve(value)})}},getByUid:{enumerable:!0,value:function(uid){return promises[uid]?promises[uid].promise:void 0}},PENDING:{enumerable:!0,value:"pending"},RESOLVED:{enumerable:!0,value:"resolved"},REJECTED:{enumerable:!0,value:"rejected"}}),{constructor:function(resolver,resolved){function resolve(v,handlers){if(!resolved)for(resolved=!0,promises[this.uid].state.key=this.RESOLVED,promises[this.uid].state.value=v,Object.freeze(promises[this.uid].state),handlers=Array.isArray(this._onresolve)?[].concat(this._onresolve):[];handlers.length;)handlers.shift().call(null,v)}function reject(r,handlers){if(!resolved)for(resolved=!0,promises[this.uid].state.key=this.REJECTED,promises[this.uid].state.value=r,Object.freeze(promises[this.uid].state),handlers=Array.isArray(this._onreject)?[].concat(this._onreject):[];handlers.length;)handlers.shift().call(null,r)}if("function"!=typeof resolver)throw new TypeError("Constructor korbut.Promise requires a resolver function as argument 0.");promises[this.uid]={promise:this,state:{key:this.PENDING,value:null}},resolver(resolve.bind(this),reject.bind(this))},then:{enumerable:!0,value:function(onresolve,onreject){return function(self,hasResolved,hasRejected){return hasResolved||hasRejected?hasResolved?new module.exports.Promise(function(resolve,reject,rv){try{rv="function"==typeof onresolve?onresolve(promises[self.uid].state.value):null}catch(e){return void reject(e)}rv&&"function"==typeof rv.then?rv.then(function(v){resolve(v)},function(r){reject(r)}):resolve(rv)}):hasRejected?new module.exports.Promise(function(resolve,reject,rv){try{rv="function"==typeof onreject?onreject(promises[self.uid].state.value):null}catch(e){return void reject(e)}rv&&"function"==typeof rv.then?rv.then(function(v){resolve(v)},function(r){reject(r)}):setTimeout(reject,4,rv)}):void 0:new module.exports.Promise(function(resolve,reject){!Array.isArray(self._onresolve)&&Object.defineProperty(self,"_onresolve",{value:[]}),!Array.isArray(self._onreject)&&Object.defineProperty(self,"_onreject",{value:[]}),self._onresolve.push(function(v,rv){try{rv=onresolve(v)}catch(e){return void reject(e)}rv&&"function"==typeof rv.then?rv.then(function(v){resolve(v)},function(r){reject(r)}):resolve(rv)}),self._onreject.push(function(r,rv){try{rv=onreject(r)}catch(e){return void reject(e)}rv&&"function"==typeof rv.then?rv.then(function(v){resolve(v)},function(r){reject(r)}):resolve(rv)})})}(this,promises[this.uid].state.key==this.RESOLVED,promises[this.uid].state.key==this.REJECTED)}},catch:{enumerable:!0,value:function(onreject){return function(self){return new module.exports.Promise(function(resolve,reject){self.then(resolve,function(r){return reject(r),onreject(r)})})}(this)}},PENDING:{enumerable:!0,get:function(){return module.exports.Promise.PENDING}},RESOLVED:{enumerable:!0,get:function(){return module.exports.Promise.RESOLVED}},REJECTED:{enumerable:!0,get:function(){return module.exports.Promise.REJECTED}},uid:{enumerable:!0,configurable:!0,get:function(){return this._uid||Object.defineProperty(this,"_uid",{value:UID.uid()})._uid}},state:{enumerable:!0,configurable:!0,get:function(){return promises[this.uid].state.key}}}})},{"./Iterator":9,"./UID":11,"./class":12,"./utils":13}],11:[function(require,module,exports){"use strict";var _=require("./utils"),klass=require("./class").class;module.exports.UID=klass(function(statics){var CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",MAP="Fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",RADIX=16,REGEXP=/[xy]/g,generators=Object.create(null);return Object.defineProperties(statics,{uid:{enumerable:!0,value:function(date){return date=Date.now(),MAP.replace(REGEXP,function(c,r){return r=(date+Math.random()*RADIX)%RADIX|0,"y"===c&&(r=3&r|8),CHARS[r]})}}}),{constructor:function(dict){dict=dict&&"object"==_.typeof(dict)?dict:{},generators[this.uid]={map:"string"==_.typeof(dict.map)?dict.map:MAP,radix:"number"==_.typeof(dict.radix)?dict.radix:RADIX,regexp:"regexp"==_.typeof(dict.regexp)?dict.regexp:REGEXP}},generate:{enumerable:!0,value:function(date){return date=Date.now(),this.map.replace(this.regexp,function(c,r){return r=(date+Math.random()*this.radix)%this.radix|0,"y"===c&&(r=3&r|8),CHARS[r]}.bind(this))}},map:{enumerable:!0,get:function(){return generators[this.uid].map}},radix:{enumerable:!0,get:function(){return generators[this.uid].radix}},regexp:{enumerable:!0,get:function(){return generators[this.uid].regexp}},uid:{enumerable:!0,configurable:!0,get:function(){return this._uid||Object.defineProperty(this,"_uid",{value:module.exports.UID.uid()})._uid}}}})},{"./class":12,"./utils":13}],12:[function(require,module,exports){"use strict";var _=require("./utils");module.exports.class=function(args,statics,Class,prototype,k){for(args=_.spread(arguments),statics=Object.create(null),prototype=Object.create({}),args[args.length-1]=function getDescriptors(descriptors,keys,i,l){if("function"==_.typeof(descriptors))return getDescriptors(descriptors.call(null,statics));for(descriptors.constructor=descriptors.hasOwnProperty("constructor")?descriptors.constructor:function(){},Class="function"!=_.typeof(descriptors.constructor)||_.native(descriptors.constructor)?"function"!=_.typeof(descriptors.constructor.value)||_.native(descriptors.constructor.value)?function(){}:descriptors.constructor.value:descriptors.constructor,delete descriptors.constructor,keys=Object.keys(descriptors);keys.length;)void function(key){descriptors[key]=descriptors[key].constructor==Object&&(descriptors[key].hasOwnProperty("value")||descriptors[key].hasOwnProperty("get")||descriptors[key].hasOwnProperty("set"))?descriptors[key]:{configurable:!0,enumerable:!0,writable:!0,value:descriptors[key]}}(keys.shift());return{prototype:Object.create(null,descriptors)}}(args[args.length-1]);args.length;)void function(Super,propertyNames){try{propertyNames=Object.getOwnPropertyNames(Super.prototype)}catch(e){propertyNames=[]}for(;propertyNames.length;)void function(property,descriptor){Object.defineProperty(prototype,property,descriptor)}(propertyNames[0],Object.getOwnPropertyDescriptor(Super.prototype,propertyNames.shift()))}(args.shift());return Object.defineProperty(prototype,"constructor",{value:Class,configurable:!0,enumerable:!0}),Class.prototype=prototype,void function(properties){for(;properties.length;)Object.defineProperty(Class,properties[0],Object.getOwnPropertyDescriptor(statics,properties.shift()))}(Object.getOwnPropertyNames(statics)),!Class.hasOwnProperty("create")&&Object.defineProperty(Class,"create",{enumerable:!0,value:function(args){function F(){return Class.apply(this,args)}return args=_.spread(arguments),F.prototype=Class.prototype,new F}}),!Class.hasOwnProperty("extend")&&Object.defineProperty(Class,"extend",{enumerable:!0,value:function(){return module.exports.class.apply(null,[Class].concat(_.spread(arguments)))}}),!Class.hasOwnProperty("isImplementedBy")&&Object.defineProperty(Class,"isImplementedBy",{enumerable:!0,value:function(o,prototype,keys,i,l){if(!o)return!1;if(prototype=o&&o.prototype?o.prototype:"function"==typeof o.constructor?o.constructor.prototype:null,o instanceof Class||Class.prototype===prototype)return!0;for(keys=Object.getOwnPropertyNames(Class.prototype),l=keys.length,i=0;i<l;i++)if("constructor"!=keys[i]&&function(o,c,err){return err=!o||!c,o&&(c.configurable?c.hasOwnProperty("value")&&typeof o.value!=typeof c.value&&(err=!0):(c.hasOwnProperty("value")&&o.value!==c.value&&(err=!0),c.hasOwnProperty("get")&&o.get!==c.get&&(err=!0),c.hasOwnProperty("set")&&o.set!==c.set&&(err=!0))),err}(Object.getOwnPropertyDescriptor(prototype,keys[i]),Object.getOwnPropertyDescriptor(Class.prototype,keys[i])))return!1;return!0}}),!Class.hasOwnProperty("implementsOn")&&Object.defineProperty(Class,"implementsOn",{enumerable:!0,value:function(o,prototype,properties){for(prototype="function"==_.typeof(o)?o.prototype:"object"==_.typeof(o)?o:function(){throw new TypeError}(),properties=Object.getOwnPropertyNames(Class.prototype);properties.length;)Object.defineProperty(prototype,properties[0],Object.getOwnPropertyDescriptor(Class.prototype,properties.shift()));Class.apply(prototype,_.spread(arguments,1))}}),Class},module.exports.singleton=function(F,G){return F=module.exports.class.apply(null,arguments),G=module.exports.class.call(null,F,function(statics,k){for(k in F)statics[k]=F[k];return{constructor:function(){return G.instance?G.instance:(G.instance=this,F.apply(this,arguments))}}})}},{"./utils":13}],13:[function(require,module,exports){"use strict";module.exports.native=function(rnative){return function(fn){try{return"function"==typeof fn&&!!fn.toString().match(rnative)}catch(e){return null}}}(/\s*\[native code\]\s*/i),module.exports.spread=function(slice){return function(o,i,l){return slice.call(o,i,l)}}(Array.prototype.slice),module.exports.typeof=function(toString){return function(o,ntypeof){return Array.isArray(o)?"array":(ntypeof=typeof o,"object"!=ntypeof?o===o?ntypeof:"NaN":o&&o.constructor&&!module.exports.native(o.constructor)?"instance":o&&"function"==typeof o.prototype?"function":toString.call(o).slice(8,-1).toLowerCase())}}(Object.prototype.toString),module.exports.invoke=function(fn,ctx,args){switch(fn="function"==typeof fn?fn:function(){throw new TypeError("korbut.utils.invoke - function expected as argument 0")}(),ctx=arguments[1]||null,args=3==arguments.length&&Array.isArray(args)?args:module.exports.spread(arguments,2),args.length){case 0:return Function.prototype.call.call(fn,ctx);case 1:return Function.prototype.call.call(fn,ctx,args[0]);case 2:return Function.prototype.call.call(fn,ctx,args[0],args[1]);case 3:return Function.prototype.call.call(fn,ctx,args[0],args[1],args[2]);default:return Function.prototype.apply.call(fn,ctx,args)}}},{}]},{},[7]);